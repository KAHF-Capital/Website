"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/iron-condor-options-yahoo";
exports.ids = ["pages/api/iron-condor-options-yahoo"];
exports.modules = {

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "node-fetch":
/*!*****************************!*\
  !*** external "node-fetch" ***!
  \*****************************/
/***/ ((module) => {

module.exports = require("node-fetch");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Firon-condor-options-yahoo&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Ciron-condor-options-yahoo.js&middlewareConfigBase64=e30%3D!":
/*!********************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Firon-condor-options-yahoo&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Ciron-condor-options-yahoo.js&middlewareConfigBase64=e30%3D! ***!
  \********************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_iron_condor_options_yahoo_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\iron-condor-options-yahoo.js */ \"(api)/./pages/api/iron-condor-options-yahoo.js\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_iron_condor_options_yahoo_js__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_iron_condor_options_yahoo_js__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/iron-condor-options-yahoo\",\n        pathname: \"/api/iron-condor-options-yahoo\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_iron_condor_options_yahoo_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmlyb24tY29uZG9yLW9wdGlvbnMteWFob28mcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZwYWdlcyU1Q2FwaSU1Q2lyb24tY29uZG9yLW9wdGlvbnMteWFob28uanMmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ0w7QUFDMUQ7QUFDdUU7QUFDdkU7QUFDQSxpRUFBZSx3RUFBSyxDQUFDLG9FQUFRLFlBQVksRUFBQztBQUMxQztBQUNPLGVBQWUsd0VBQUssQ0FBQyxvRUFBUTtBQUNwQztBQUNPLHdCQUF3QixnSEFBbUI7QUFDbEQ7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWTtBQUNaLENBQUM7O0FBRUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9rYWhmLWNhcGl0YWwtd2Vic2l0ZS8/NTUzMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vcGFnZXNcXFxcYXBpXFxcXGlyb24tY29uZG9yLW9wdGlvbnMteWFob28uanNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgaGFuZGxlciAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgXCJkZWZhdWx0XCIpO1xuLy8gUmUtZXhwb3J0IGNvbmZpZy5cbmV4cG9ydCBjb25zdCBjb25maWcgPSBob2lzdCh1c2VybGFuZCwgXCJjb25maWdcIik7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc0FQSVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFU19BUEksXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9pcm9uLWNvbmRvci1vcHRpb25zLXlhaG9vXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvaXJvbi1jb25kb3Itb3B0aW9ucy15YWhvb1wiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcIlwiXG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLWFwaS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Firon-condor-options-yahoo&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Ciron-condor-options-yahoo.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./pages/api/iron-condor-options-yahoo.js":
/*!************************************************!*\
  !*** ./pages/api/iron-condor-options-yahoo.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var node_fetch__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! node-fetch */ \"node-fetch\");\n/* harmony import */ var node_fetch__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(node_fetch__WEBPACK_IMPORTED_MODULE_0__);\n\n// Yahoo Finance Iron Condor Options Data Fetcher\n// This replaces Polygon.io API calls to avoid rate limiting and 500 errors\n// Yahoo Finance API endpoints (unofficial but stable)\nconst YAHOO_FINANCE_BASE = \"https://query1.finance.yahoo.com/v8/finance/chart\";\nconst YAHOO_OPTIONS_BASE = \"https://query2.finance.yahoo.com/v7/finance/options\";\nconst YAHOO_OPTIONS_ALT = \"https://query1.finance.yahoo.com/v7/finance/options\";\nconst YAHOO_QUOTE_BASE = \"https://query1.finance.yahoo.com/v1/finance/search\";\n// Cache for crumb to reduce API calls\nlet crumbCache = null;\nlet crumbTimestamp = 0;\nconst CRUMB_CACHE_DURATION = 30 * 60 * 1000; // 30 minutes\n// Cache for options data to reduce API calls\nconst optionsCache = new Map();\nconst CACHE_DURATION = 5 * 60 * 1000; // 5 minutes\n// Get Yahoo Finance crumb for authentication\nasync function getYahooCrumb() {\n    const now = Date.now();\n    // Check cache first\n    if (crumbCache && now - crumbTimestamp < CRUMB_CACHE_DURATION) {\n        return crumbCache;\n    }\n    try {\n        // First, get a quote page to extract the crumb\n        const quoteUrl = \"https://finance.yahoo.com/quote/AAPL\";\n        const headers = {\n            \"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36\",\n            \"Accept\": \"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8\",\n            \"Accept-Language\": \"en-US,en;q=0.5\",\n            \"Accept-Encoding\": \"gzip, deflate, br\",\n            \"Connection\": \"keep-alive\",\n            \"Upgrade-Insecure-Requests\": \"1\"\n        };\n        const response = await node_fetch__WEBPACK_IMPORTED_MODULE_0___default()(quoteUrl, {\n            headers\n        });\n        const html = await response.text();\n        // Extract crumb from the HTML\n        const crumbMatch = html.match(/\"CrumbStore\":\\{\"crumb\":\"([^\"]+)\"/);\n        if (crumbMatch && crumbMatch[1]) {\n            const crumb = crumbMatch[1].replace(/\\\\u002F/g, \"/\");\n            crumbCache = crumb;\n            crumbTimestamp = now;\n            return crumb;\n        }\n        throw new Error(\"Could not extract crumb from Yahoo Finance\");\n    } catch (error) {\n        console.error(\"Error getting Yahoo Finance crumb:\", error.message);\n        throw error;\n    }\n}\n// Get current stock price from Yahoo Finance\nasync function getCurrentPrice(ticker) {\n    try {\n        const url = `${YAHOO_FINANCE_BASE}/${ticker}`;\n        // Add headers to mimic a browser request (same as straddle calculator)\n        const headers = {\n            \"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36\",\n            \"Accept\": \"application/json, text/plain, */*\",\n            \"Accept-Language\": \"en-US,en;q=0.9\",\n            \"Accept-Encoding\": \"gzip, deflate, br\",\n            \"Referer\": \"https://finance.yahoo.com/\",\n            \"Origin\": \"https://finance.yahoo.com\"\n        };\n        const response = await node_fetch__WEBPACK_IMPORTED_MODULE_0___default()(url, {\n            headers\n        });\n        if (!response.ok) {\n            throw new Error(`Yahoo Finance API error: ${response.status}`);\n        }\n        const data = await response.json();\n        if (!data.chart || !data.chart.result || data.chart.result.length === 0) {\n            throw new Error(\"No price data available\");\n        }\n        const result = data.chart.result[0];\n        const currentPrice = result.meta.regularMarketPrice;\n        return {\n            price: currentPrice,\n            currency: result.meta.currency,\n            exchange: result.meta.exchangeName,\n            timestamp: result.meta.regularMarketTime\n        };\n    } catch (error) {\n        console.error(`Error fetching current price for ${ticker}:`, error.message);\n        throw error;\n    }\n}\n// Get available expiration dates for a ticker\nasync function getExpirationDates(ticker) {\n    try {\n        // Get crumb for authentication\n        const crumb = await getYahooCrumb();\n        const url = `${YAHOO_OPTIONS_BASE}/${ticker}?crumb=${crumb}`;\n        // Add headers to mimic a browser request (same as straddle calculator)\n        const headers = {\n            \"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36\",\n            \"Accept\": \"application/json, text/plain, */*\",\n            \"Accept-Language\": \"en-US,en;q=0.9\",\n            \"Accept-Encoding\": \"gzip, deflate, br\",\n            \"Referer\": \"https://finance.yahoo.com/\",\n            \"Origin\": \"https://finance.yahoo.com\"\n        };\n        const response = await node_fetch__WEBPACK_IMPORTED_MODULE_0___default()(url, {\n            headers\n        });\n        if (!response.ok) {\n            throw new Error(`Yahoo Finance options API error: ${response.status}`);\n        }\n        const data = await response.json();\n        if (!data.optionChain || !data.optionChain.result || data.optionChain.result.length === 0) {\n            throw new Error(\"No options data available\");\n        }\n        const result = data.optionChain.result[0];\n        const expirations = result.expirationDates || [];\n        // Convert timestamps to date strings\n        const expirationDates = expirations.map((timestamp)=>{\n            const date = new Date(timestamp * 1000);\n            return date.toISOString().split(\"T\")[0]; // YYYY-MM-DD format\n        });\n        return expirationDates.sort();\n    } catch (error) {\n        console.error(`Error fetching expiration dates for ${ticker}:`, error.message);\n        throw error;\n    }\n}\n// Get options data for a specific ticker and expiration\nasync function getOptionsData(ticker, expirationDate) {\n    const cacheKey = `${ticker}-${expirationDate}`;\n    const now = Date.now();\n    // Check cache first\n    if (optionsCache.has(cacheKey)) {\n        const cached = optionsCache.get(cacheKey);\n        if (now - cached.timestamp < CACHE_DURATION) {\n            return cached.data;\n        }\n    }\n    try {\n        // Get crumb for authentication\n        const crumb = await getYahooCrumb();\n        // Convert date to timestamp\n        const expirationTimestamp = Math.floor(new Date(expirationDate).getTime() / 1000);\n        const url = `${YAHOO_OPTIONS_BASE}/${ticker}?date=${expirationTimestamp}&crumb=${crumb}`;\n        // Add headers to mimic a browser request\n        const headers = {\n            \"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36\",\n            \"Accept\": \"application/json, text/plain, */*\",\n            \"Accept-Language\": \"en-US,en;q=0.9\",\n            \"Accept-Encoding\": \"gzip, deflate, br\",\n            \"Referer\": \"https://finance.yahoo.com/\",\n            \"Origin\": \"https://finance.yahoo.com\"\n        };\n        const response = await node_fetch__WEBPACK_IMPORTED_MODULE_0___default()(url, {\n            headers\n        });\n        if (!response.ok) {\n            throw new Error(`Yahoo Finance options API error: ${response.status}`);\n        }\n        const data = await response.json();\n        if (!data.optionChain || !data.optionChain.result || data.optionChain.result.length === 0) {\n            throw new Error(\"No options data available for this expiration\");\n        }\n        const result = data.optionChain.result[0];\n        const currentPrice = result.quote.regularMarketPrice;\n        // Get calls and puts\n        const calls = result.options[0]?.calls || [];\n        const puts = result.options[0]?.puts || [];\n        if (calls.length === 0 || puts.length === 0) {\n            throw new Error(\"No options contracts available\");\n        }\n        // Find ATM strike price (closest to current price, rounded to nearest $5)\n        const strikeIncrement = 5;\n        const atmStrike = Math.round(currentPrice / strikeIncrement) * strikeIncrement;\n        // Set up Iron Condor strikes (10 dollar wings by default)\n        const wingWidth = 10;\n        const shortCallStrike = atmStrike;\n        const shortPutStrike = atmStrike;\n        const longCallStrike = atmStrike + wingWidth;\n        const longPutStrike = atmStrike - wingWidth;\n        // Find the specific contracts for our Iron Condor\n        const shortCall = calls.find((call)=>call.strike === shortCallStrike);\n        const shortPut = puts.find((put)=>put.strike === shortPutStrike);\n        const longCall = calls.find((call)=>call.strike === longCallStrike);\n        const longPut = puts.find((put)=>put.strike === longPutStrike);\n        // Check if we have all required contracts\n        const missingContracts = [];\n        if (!shortCall) missingContracts.push(`Short Call ${shortCallStrike}`);\n        if (!shortPut) missingContracts.push(`Short Put ${shortPutStrike}`);\n        if (!longCall) missingContracts.push(`Long Call ${longCallStrike}`);\n        if (!longPut) missingContracts.push(`Long Put ${longPutStrike}`);\n        if (missingContracts.length > 0) {\n            return {\n                error: \"Missing required contracts\",\n                missingContracts,\n                availableStrikes: {\n                    calls: [\n                        ...new Set(calls.map((c)=>c.strike))\n                    ].sort((a, b)=>a - b),\n                    puts: [\n                        ...new Set(puts.map((p)=>p.strike))\n                    ].sort((a, b)=>a - b)\n                },\n                requestedStrikes: {\n                    shortCall: shortCallStrike,\n                    shortPut: shortPutStrike,\n                    longCall: longCallStrike,\n                    longPut: longPutStrike\n                }\n            };\n        }\n        // Calculate Iron Condor premiums using mid prices\n        const shortCallPrice = (shortCall.bid + shortCall.ask) / 2;\n        const shortPutPrice = (shortPut.bid + shortPut.ask) / 2;\n        const longCallPrice = (longCall.bid + longCall.ask) / 2;\n        const longPutPrice = (longPut.bid + longPut.ask) / 2;\n        const callCredit = shortCallPrice - longCallPrice;\n        const putCredit = shortPutPrice - longPutPrice;\n        const totalCredit = callCredit + putCredit;\n        const optionsData = {\n            ticker: ticker.toUpperCase(),\n            currentPrice,\n            expiration: expirationDate,\n            requestedExpiration: expirationDate,\n            executionDate: new Date().toISOString().split(\"T\")[0],\n            strikes: {\n                shortCall: shortCallStrike,\n                shortPut: shortPutStrike,\n                longCall: longCallStrike,\n                longPut: longPutStrike\n            },\n            premiums: {\n                shortCallPrice,\n                shortPutPrice,\n                longCallPrice,\n                longPutPrice,\n                callCredit,\n                putCredit,\n                totalCredit\n            },\n            contracts: {\n                shortCall: `${ticker}${expirationDate.replace(/-/g, \"\")}C${shortCallStrike}000`,\n                shortPut: `${ticker}${expirationDate.replace(/-/g, \"\")}P${shortPutStrike}000`,\n                longCall: `${ticker}${expirationDate.replace(/-/g, \"\")}C${longCallStrike}000`,\n                longPut: `${ticker}${expirationDate.replace(/-/g, \"\")}P${longPutStrike}000`\n            },\n            wingWidth,\n            isNetCredit: totalCredit > 0,\n            source: \"yahoo_finance\",\n            dataQuality: \"high\"\n        };\n        // Cache the result\n        optionsCache.set(cacheKey, {\n            data: optionsData,\n            timestamp: now\n        });\n        return optionsData;\n    } catch (error) {\n        console.error(`Error fetching options data for ${ticker} ${expirationDate}:`, error.message);\n        throw error;\n    }\n}\n// Get Iron Condor data with fallback to estimation\nasync function getIronCondorData(ticker, expirationDate = null) {\n    try {\n        // Get current price first\n        const priceData = await getCurrentPrice(ticker);\n        const currentPrice = priceData.price;\n        // Get available expiration dates\n        let availableExpirations = [];\n        try {\n            availableExpirations = await getExpirationDates(ticker);\n        } catch (error) {\n            console.warn(`Could not get expiration dates for ${ticker}:`, error.message);\n        }\n        // If no expiration date provided, return available expirations\n        if (!expirationDate) {\n            return {\n                ticker,\n                currentPrice,\n                availableExpirations,\n                message: \"Please select an expiration date from the available options\",\n                source: \"expiration_list\",\n                dataQuality: \"none\"\n            };\n        }\n        // Check if the requested expiration date is available\n        if (availableExpirations.length > 0 && !availableExpirations.includes(expirationDate)) {\n            return {\n                ticker,\n                currentPrice,\n                availableExpirations,\n                requestedExpiration: expirationDate,\n                message: `Requested expiration date ${expirationDate} is not available. Please check Yahoo Finance options for ${ticker} to see available dates.`,\n                yahooFinanceUrl: `https://finance.yahoo.com/quote/${ticker}/options`,\n                source: \"expiration_not_available\",\n                dataQuality: \"none\"\n            };\n        }\n        // Try to get real options data for the specified expiration\n        try {\n            const optionsData = await getOptionsData(ticker, expirationDate);\n            // If we got an error about missing contracts, return it\n            if (optionsData.error) {\n                return {\n                    ...optionsData,\n                    ticker,\n                    currentPrice,\n                    availableExpirations,\n                    requestedExpiration: expirationDate\n                };\n            }\n            return {\n                ...optionsData,\n                availableExpirations,\n                requestedExpiration: expirationDate\n            };\n        } catch (error) {\n            console.warn(`Could not get options data for ${ticker} ${expirationDate}, using estimation:`, error.message);\n            // Fallback to estimation (similar to straddle calculator)\n            const estimatedData = estimateIronCondorData(ticker, currentPrice, expirationDate);\n            return {\n                ...estimatedData,\n                availableExpirations,\n                requestedExpiration: expirationDate,\n                source: \"estimation\",\n                dataQuality: \"medium\",\n                note: \"Options data estimated due to Yahoo Finance API limitations\"\n            };\n        }\n    } catch (error) {\n        console.error(`Error getting iron condor data for ${ticker}:`, error.message);\n        throw error;\n    }\n}\n// Estimate Iron Condor data when real options data is not available\nfunction estimateIronCondorData(ticker, currentPrice, expirationDate) {\n    // Calculate days to expiration\n    const expiration = new Date(expirationDate);\n    const today = new Date();\n    const daysToExpiration = Math.ceil((expiration - today) / (1000 * 60 * 60 * 24));\n    // Simple estimation based on current price and time to expiration\n    const volatility = 0.25; // 25% annual volatility (typical for stocks)\n    const timeToExpiration = daysToExpiration / 365;\n    const sqrtTime = Math.sqrt(timeToExpiration);\n    // Estimate ATM option prices using simplified Black-Scholes\n    const estimatedOptionPrice = currentPrice * volatility * sqrtTime * 0.4;\n    // Set up Iron Condor strikes (10 dollar wings by default)\n    const wingWidth = 10;\n    const strikeIncrement = 5;\n    const atmStrike = Math.round(currentPrice / strikeIncrement) * strikeIncrement;\n    const shortCallStrike = atmStrike;\n    const shortPutStrike = atmStrike;\n    const longCallStrike = atmStrike + wingWidth;\n    const longPutStrike = atmStrike - wingWidth;\n    // Estimate premiums (shorter strikes have higher premiums)\n    const shortCallPrice = estimatedOptionPrice;\n    const shortPutPrice = estimatedOptionPrice;\n    const longCallPrice = estimatedOptionPrice * 0.3; // Longer strikes are cheaper\n    const longPutPrice = estimatedOptionPrice * 0.3;\n    const callCredit = shortCallPrice - longCallPrice;\n    const putCredit = shortPutPrice - longPutPrice;\n    const totalCredit = callCredit + putCredit;\n    return {\n        ticker: ticker.toUpperCase(),\n        currentPrice,\n        expiration: expirationDate,\n        executionDate: new Date().toISOString().split(\"T\")[0],\n        strikes: {\n            shortCall: shortCallStrike,\n            shortPut: shortPutStrike,\n            longCall: longCallStrike,\n            longPut: longPutStrike\n        },\n        premiums: {\n            shortCallPrice,\n            shortPutPrice,\n            longCallPrice,\n            longPutPrice,\n            callCredit,\n            putCredit,\n            totalCredit\n        },\n        contracts: {\n            shortCall: `${ticker}${expirationDate.replace(/-/g, \"\")}C${shortCallStrike}000`,\n            shortPut: `${ticker}${expirationDate.replace(/-/g, \"\")}P${shortPutStrike}000`,\n            longCall: `${ticker}${expirationDate.replace(/-/g, \"\")}C${longCallStrike}000`,\n            longPut: `${ticker}${expirationDate.replace(/-/g, \"\")}P${longPutStrike}000`\n        },\n        wingWidth,\n        isNetCredit: totalCredit > 0\n    };\n}\nasync function handler(req, res) {\n    if (req.method !== \"GET\") {\n        return res.status(405).json({\n            error: \"Method not allowed\"\n        });\n    }\n    const { ticker, expiration } = req.query;\n    if (!ticker) {\n        return res.status(400).json({\n            error: \"Ticker is required\"\n        });\n    }\n    try {\n        const ironCondorData = await getIronCondorData(ticker, expiration);\n        // If we have an error about missing contracts, return 404\n        if (ironCondorData.error) {\n            return res.status(404).json(ironCondorData);\n        }\n        // If we have a message indicating no data, return 200 with the message\n        if (ironCondorData.message) {\n            return res.status(200).json(ironCondorData);\n        }\n        // Return successful data\n        return res.status(200).json(ironCondorData);\n    } catch (error) {\n        console.error(\"Error in iron-condor-options-yahoo API:\", error);\n        return res.status(500).json({\n            error: \"Failed to fetch iron condor options\",\n            details:  true ? error.message : 0\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvaXJvbi1jb25kb3Itb3B0aW9ucy15YWhvby5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBK0I7QUFFL0IsaURBQWlEO0FBQ2pELDJFQUEyRTtBQUUzRSxzREFBc0Q7QUFDdEQsTUFBTUMscUJBQXFCO0FBQzNCLE1BQU1DLHFCQUFxQjtBQUMzQixNQUFNQyxvQkFBb0I7QUFDMUIsTUFBTUMsbUJBQW1CO0FBRXpCLHNDQUFzQztBQUN0QyxJQUFJQyxhQUFhO0FBQ2pCLElBQUlDLGlCQUFpQjtBQUNyQixNQUFNQyx1QkFBdUIsS0FBSyxLQUFLLE1BQU0sYUFBYTtBQUUxRCw2Q0FBNkM7QUFDN0MsTUFBTUMsZUFBZSxJQUFJQztBQUN6QixNQUFNQyxpQkFBaUIsSUFBSSxLQUFLLE1BQU0sWUFBWTtBQUVsRCw2Q0FBNkM7QUFDN0MsZUFBZUM7SUFDYixNQUFNQyxNQUFNQyxLQUFLRCxHQUFHO0lBRXBCLG9CQUFvQjtJQUNwQixJQUFJUCxjQUFjLE1BQU9DLGlCQUFrQkMsc0JBQXNCO1FBQy9ELE9BQU9GO0lBQ1Q7SUFFQSxJQUFJO1FBQ0YsK0NBQStDO1FBQy9DLE1BQU1TLFdBQVc7UUFDakIsTUFBTUMsVUFBVTtZQUNkLGNBQWM7WUFDZCxVQUFVO1lBQ1YsbUJBQW1CO1lBQ25CLG1CQUFtQjtZQUNuQixjQUFjO1lBQ2QsNkJBQTZCO1FBQy9CO1FBRUEsTUFBTUMsV0FBVyxNQUFNaEIsaURBQUtBLENBQUNjLFVBQVU7WUFBRUM7UUFBUTtRQUNqRCxNQUFNRSxPQUFPLE1BQU1ELFNBQVNFLElBQUk7UUFFaEMsOEJBQThCO1FBQzlCLE1BQU1DLGFBQWFGLEtBQUtHLEtBQUssQ0FBQztRQUM5QixJQUFJRCxjQUFjQSxVQUFVLENBQUMsRUFBRSxFQUFFO1lBQy9CLE1BQU1FLFFBQVFGLFVBQVUsQ0FBQyxFQUFFLENBQUNHLE9BQU8sQ0FBQyxZQUFZO1lBQ2hEakIsYUFBYWdCO1lBQ2JmLGlCQUFpQk07WUFDakIsT0FBT1M7UUFDVDtRQUVBLE1B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QXlCO1FBQ3pCLE9BQU9ILElBQUl2RyxNQUFNLENBQUMsS0FBS0UsSUFBSSxDQUFDd0c7SUFFOUIsRUFBRSxPQUFPakgsT0FBTztRQUNkQyxRQUFRRCxLQUFLLENBQUMsMkNBQTJDQTtRQUN6RCxPQUFPOEcsSUFBSXZHLE1BQU0sQ0FBQyxLQUFLRSxJQUFJLENBQUM7WUFDMUJULE9BQU87WUFDUGtILFNBQVNDLEtBQXlCLEdBQWdCbkgsTUFBTUUsT0FBTyxHQUFHO1FBQ3BFO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2thaGYtY2FwaXRhbC13ZWJzaXRlLy4vcGFnZXMvYXBpL2lyb24tY29uZG9yLW9wdGlvbnMteWFob28uanM/YTU4MSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZmV0Y2ggZnJvbSAnbm9kZS1mZXRjaCc7XG5cbi8vIFlhaG9vIEZpbmFuY2UgSXJvbiBDb25kb3IgT3B0aW9ucyBEYXRhIEZldGNoZXJcbi8vIFRoaXMgcmVwbGFjZXMgUG9seWdvbi5pbyBBUEkgY2FsbHMgdG8gYXZvaWQgcmF0ZSBsaW1pdGluZyBhbmQgNTAwIGVycm9yc1xuXG4vLyBZYWhvbyBGaW5hbmNlIEFQSSBlbmRwb2ludHMgKHVub2ZmaWNpYWwgYnV0IHN0YWJsZSlcbmNvbnN0IFlBSE9PX0ZJTkFOQ0VfQkFTRSA9ICdodHRwczovL3F1ZXJ5MS5maW5hbmNlLnlhaG9vLmNvbS92OC9maW5hbmNlL2NoYXJ0JztcbmNvbnN0IFlBSE9PX09QVElPTlNfQkFTRSA9ICdodHRwczovL3F1ZXJ5Mi5maW5hbmNlLnlhaG9vLmNvbS92Ny9maW5hbmNlL29wdGlvbnMnO1xuY29uc3QgWUFIT09fT1BUSU9OU19BTFQgPSAnaHR0cHM6Ly9xdWVyeTEuZmluYW5jZS55YWhvby5jb20vdjcvZmluYW5jZS9vcHRpb25zJztcbmNvbnN0IFlBSE9PX1FVT1RFX0JBU0UgPSAnaHR0cHM6Ly9xdWVyeTEuZmluYW5jZS55YWhvby5jb20vdjEvZmluYW5jZS9zZWFyY2gnO1xuXG4vLyBDYWNoZSBmb3IgY3J1bWIgdG8gcmVkdWNlIEFQSSBjYWxsc1xubGV0IGNydW1iQ2FjaGUgPSBudWxsO1xubGV0IGNydW1iVGltZXN0YW1wID0gMDtcbmNvbnN0IENSVU1CX0NBQ0hFX0RVUkFUSU9OID0gMzAgKiA2MCAqIDEwMDA7IC8vIDMwIG1pbnV0ZXNcblxuLy8gQ2FjaGUgZm9yIG9wdGlvbnMgZGF0YSB0byByZWR1Y2UgQVBJIGNhbGxzXG5jb25zdCBvcHRpb25zQ2FjaGUgPSBuZXcgTWFwKCk7XG5jb25zdCBDQUNIRV9EVVJBVElPTiA9IDUgKiA2MCAqIDEwMDA7IC8vIDUgbWludXRlc1xuXG4vLyBHZXQgWWFob28gRmluYW5jZSBjcnVtYiBmb3IgYXV0aGVudGljYXRpb25cbmFzeW5jIGZ1bmN0aW9uIGdldFlhaG9vQ3J1bWIoKSB7XG4gIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gIFxuICAvLyBDaGVjayBjYWNoZSBmaXJzdFxuICBpZiAoY3J1bWJDYWNoZSAmJiAobm93IC0gY3J1bWJUaW1lc3RhbXApIDwgQ1JVTUJfQ0FDSEVfRFVSQVRJT04pIHtcbiAgICByZXR1cm4gY3J1bWJDYWNoZTtcbiAgfVxuICBcbiAgdHJ5IHtcbiAgICAvLyBGaXJzdCwgZ2V0IGEgcXVvdGUgcGFnZSB0byBleHRyYWN0IHRoZSBjcnVtYlxuICAgIGNvbnN0IHF1b3RlVXJsID0gJ2h0dHBzOi8vZmluYW5jZS55YWhvby5jb20vcXVvdGUvQUFQTCc7XG4gICAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAgICdVc2VyLUFnZW50JzogJ01vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdpbjY0OyB4NjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS85MS4wLjQ0NzIuMTI0IFNhZmFyaS81MzcuMzYnLFxuICAgICAgJ0FjY2VwdCc6ICd0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS93ZWJwLCovKjtxPTAuOCcsXG4gICAgICAnQWNjZXB0LUxhbmd1YWdlJzogJ2VuLVVTLGVuO3E9MC41JyxcbiAgICAgICdBY2NlcHQtRW5jb2RpbmcnOiAnZ3ppcCwgZGVmbGF0ZSwgYnInLFxuICAgICAgJ0Nvbm5lY3Rpb24nOiAna2VlcC1hbGl2ZScsXG4gICAgICAnVXBncmFkZS1JbnNlY3VyZS1SZXF1ZXN0cyc6ICcxJ1xuICAgIH07XG4gICAgXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChxdW90ZVVybCwgeyBoZWFkZXJzIH0pO1xuICAgIGNvbnN0IGh0bWwgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG4gICAgXG4gICAgLy8gRXh0cmFjdCBjcnVtYiBmcm9tIHRoZSBIVE1MXG4gICAgY29uc3QgY3J1bWJNYXRjaCA9IGh0bWwubWF0Y2goL1wiQ3J1bWJTdG9yZVwiOlxce1wiY3J1bWJcIjpcIihbXlwiXSspXCIvKTtcbiAgICBpZiAoY3J1bWJNYXRjaCAmJiBjcnVtYk1hdGNoWzFdKSB7XG4gICAgICBjb25zdCBjcnVtYiA9IGNydW1iTWF0Y2hbMV0ucmVwbGFjZSgvXFxcXHUwMDJGL2csICcvJyk7XG4gICAgICBjcnVtYkNhY2hlID0gY3J1bWI7XG4gICAgICBjcnVtYlRpbWVzdGFtcCA9IG5vdztcbiAgICAgIHJldHVybiBjcnVtYjtcbiAgICB9XG4gICAgXG4gICAgdGhyb3cgbmV3IEVycm9yKCdDb3VsZCBub3QgZXh0cmFjdCBjcnVtYiBmcm9tIFlhaG9vIEZpbmFuY2UnKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZXR0aW5nIFlhaG9vIEZpbmFuY2UgY3J1bWI6JywgZXJyb3IubWVzc2FnZSk7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn1cblxuLy8gR2V0IGN1cnJlbnQgc3RvY2sgcHJpY2UgZnJvbSBZYWhvbyBGaW5hbmNlXG5hc3luYyBmdW5jdGlvbiBnZXRDdXJyZW50UHJpY2UodGlja2VyKSB7XG4gIHRyeSB7XG4gICAgY29uc3QgdXJsID0gYCR7WUFIT09fRklOQU5DRV9CQVNFfS8ke3RpY2tlcn1gO1xuICAgIFxuICAgIC8vIEFkZCBoZWFkZXJzIHRvIG1pbWljIGEgYnJvd3NlciByZXF1ZXN0IChzYW1lIGFzIHN0cmFkZGxlIGNhbGN1bGF0b3IpXG4gICAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAgICdVc2VyLUFnZW50JzogJ01vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdpbjY0OyB4NjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS85MS4wLjQ0NzIuMTI0IFNhZmFyaS81MzcuMzYnLFxuICAgICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L3BsYWluLCAqLyonLFxuICAgICAgJ0FjY2VwdC1MYW5ndWFnZSc6ICdlbi1VUyxlbjtxPTAuOScsXG4gICAgICAnQWNjZXB0LUVuY29kaW5nJzogJ2d6aXAsIGRlZmxhdGUsIGJyJyxcbiAgICAgICdSZWZlcmVyJzogJ2h0dHBzOi8vZmluYW5jZS55YWhvby5jb20vJyxcbiAgICAgICdPcmlnaW4nOiAnaHR0cHM6Ly9maW5hbmNlLnlhaG9vLmNvbSdcbiAgICB9O1xuICAgIFxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsLCB7IGhlYWRlcnMgfSk7XG4gICAgXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBZYWhvbyBGaW5hbmNlIEFQSSBlcnJvcjogJHtyZXNwb25zZS5zdGF0dXN9YCk7XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgXG4gICAgaWYgKCFkYXRhLmNoYXJ0IHx8ICFkYXRhLmNoYXJ0LnJlc3VsdCB8fCBkYXRhLmNoYXJ0LnJlc3VsdC5sZW5ndGggPT09IDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTm8gcHJpY2UgZGF0YSBhdmFpbGFibGUnKTtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgcmVzdWx0ID0gZGF0YS5jaGFydC5yZXN1bHRbMF07XG4gICAgY29uc3QgY3VycmVudFByaWNlID0gcmVzdWx0Lm1ldGEucmVndWxhck1hcmtldFByaWNlO1xuICAgIFxuICAgIHJldHVybiB7XG4gICAgICBwcmljZTogY3VycmVudFByaWNlLFxuICAgICAgY3VycmVuY3k6IHJlc3VsdC5tZXRhLmN1cnJlbmN5LFxuICAgICAgZXhjaGFuZ2U6IHJlc3VsdC5tZXRhLmV4Y2hhbmdlTmFtZSxcbiAgICAgIHRpbWVzdGFtcDogcmVzdWx0Lm1ldGEucmVndWxhck1hcmtldFRpbWVcbiAgICB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGZldGNoaW5nIGN1cnJlbnQgcHJpY2UgZm9yICR7dGlja2VyfTpgLCBlcnJvci5tZXNzYWdlKTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufVxuXG4vLyBHZXQgYXZhaWxhYmxlIGV4cGlyYXRpb24gZGF0ZXMgZm9yIGEgdGlja2VyXG5hc3luYyBmdW5jdGlvbiBnZXRFeHBpcmF0aW9uRGF0ZXModGlja2VyKSB7XG4gIHRyeSB7XG4gICAgLy8gR2V0IGNydW1iIGZvciBhdXRoZW50aWNhdGlvblxuICAgIGNvbnN0IGNydW1iID0gYXdhaXQgZ2V0WWFob29DcnVtYigpO1xuICAgIGNvbnN0IHVybCA9IGAke1lBSE9PX09QVElPTlNfQkFTRX0vJHt0aWNrZXJ9P2NydW1iPSR7Y3J1bWJ9YDtcbiAgICBcbiAgICAvLyBBZGQgaGVhZGVycyB0byBtaW1pYyBhIGJyb3dzZXIgcmVxdWVzdCAoc2FtZSBhcyBzdHJhZGRsZSBjYWxjdWxhdG9yKVxuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAnVXNlci1BZ2VudCc6ICdNb3ppbGxhLzUuMCAoV2luZG93cyBOVCAxMC4wOyBXaW42NDsgeDY0KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvOTEuMC40NDcyLjEyNCBTYWZhcmkvNTM3LjM2JyxcbiAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbiwgdGV4dC9wbGFpbiwgKi8qJyxcbiAgICAgICdBY2NlcHQtTGFuZ3VhZ2UnOiAnZW4tVVMsZW47cT0wLjknLFxuICAgICAgJ0FjY2VwdC1FbmNvZGluZyc6ICdnemlwLCBkZWZsYXRlLCBicicsXG4gICAgICAnUmVmZXJlcic6ICdodHRwczovL2ZpbmFuY2UueWFob28uY29tLycsXG4gICAgICAnT3JpZ2luJzogJ2h0dHBzOi8vZmluYW5jZS55YWhvby5jb20nXG4gICAgfTtcbiAgICBcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCwgeyBoZWFkZXJzIH0pO1xuICAgIFxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgWWFob28gRmluYW5jZSBvcHRpb25zIEFQSSBlcnJvcjogJHtyZXNwb25zZS5zdGF0dXN9YCk7XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgXG4gICAgaWYgKCFkYXRhLm9wdGlvbkNoYWluIHx8ICFkYXRhLm9wdGlvbkNoYWluLnJlc3VsdCB8fCBkYXRhLm9wdGlvbkNoYWluLnJlc3VsdC5sZW5ndGggPT09IDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTm8gb3B0aW9ucyBkYXRhIGF2YWlsYWJsZScpO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCByZXN1bHQgPSBkYXRhLm9wdGlvbkNoYWluLnJlc3VsdFswXTtcbiAgICBjb25zdCBleHBpcmF0aW9ucyA9IHJlc3VsdC5leHBpcmF0aW9uRGF0ZXMgfHwgW107XG4gICAgXG4gICAgLy8gQ29udmVydCB0aW1lc3RhbXBzIHRvIGRhdGUgc3RyaW5nc1xuICAgIGNvbnN0IGV4cGlyYXRpb25EYXRlcyA9IGV4cGlyYXRpb25zLm1hcCh0aW1lc3RhbXAgPT4ge1xuICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKHRpbWVzdGFtcCAqIDEwMDApO1xuICAgICAgcmV0dXJuIGRhdGUudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdOyAvLyBZWVlZLU1NLUREIGZvcm1hdFxuICAgIH0pO1xuICAgIFxuICAgIHJldHVybiBleHBpcmF0aW9uRGF0ZXMuc29ydCgpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGZldGNoaW5nIGV4cGlyYXRpb24gZGF0ZXMgZm9yICR7dGlja2VyfTpgLCBlcnJvci5tZXNzYWdlKTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufVxuXG4vLyBHZXQgb3B0aW9ucyBkYXRhIGZvciBhIHNwZWNpZmljIHRpY2tlciBhbmQgZXhwaXJhdGlvblxuYXN5bmMgZnVuY3Rpb24gZ2V0T3B0aW9uc0RhdGEodGlja2VyLCBleHBpcmF0aW9uRGF0ZSkge1xuICBjb25zdCBjYWNoZUtleSA9IGAke3RpY2tlcn0tJHtleHBpcmF0aW9uRGF0ZX1gO1xuICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICBcbiAgLy8gQ2hlY2sgY2FjaGUgZmlyc3RcbiAgaWYgKG9wdGlvbnNDYWNoZS5oYXMoY2FjaGVLZXkpKSB7XG4gICAgY29uc3QgY2FjaGVkID0gb3B0aW9uc0NhY2hlLmdldChjYWNoZUtleSk7XG4gICAgaWYgKG5vdyAtIGNhY2hlZC50aW1lc3RhbXAgPCBDQUNIRV9EVVJBVElPTikge1xuICAgICAgcmV0dXJuIGNhY2hlZC5kYXRhO1xuICAgIH1cbiAgfVxuICBcbiAgdHJ5IHtcbiAgICAvLyBHZXQgY3J1bWIgZm9yIGF1dGhlbnRpY2F0aW9uXG4gICAgY29uc3QgY3J1bWIgPSBhd2FpdCBnZXRZYWhvb0NydW1iKCk7XG4gICAgXG4gICAgLy8gQ29udmVydCBkYXRlIHRvIHRpbWVzdGFtcFxuICAgIGNvbnN0IGV4cGlyYXRpb25UaW1lc3RhbXAgPSBNYXRoLmZsb29yKG5ldyBEYXRlKGV4cGlyYXRpb25EYXRlKS5nZXRUaW1lKCkgLyAxMDAwKTtcbiAgICBjb25zdCB1cmwgPSBgJHtZQUhPT19PUFRJT05TX0JBU0V9LyR7dGlja2VyfT9kYXRlPSR7ZXhwaXJhdGlvblRpbWVzdGFtcH0mY3J1bWI9JHtjcnVtYn1gO1xuICAgIFxuICAgIC8vIEFkZCBoZWFkZXJzIHRvIG1pbWljIGEgYnJvd3NlciByZXF1ZXN0XG4gICAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAgICdVc2VyLUFnZW50JzogJ01vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdpbjY0OyB4NjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS85MS4wLjQ0NzIuMTI0IFNhZmFyaS81MzcuMzYnLFxuICAgICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L3BsYWluLCAqLyonLFxuICAgICAgJ0FjY2VwdC1MYW5ndWFnZSc6ICdlbi1VUyxlbjtxPTAuOScsXG4gICAgICAnQWNjZXB0LUVuY29kaW5nJzogJ2d6aXAsIGRlZmxhdGUsIGJyJyxcbiAgICAgICdSZWZlcmVyJzogJ2h0dHBzOi8vZmluYW5jZS55YWhvby5jb20vJyxcbiAgICAgICdPcmlnaW4nOiAnaHR0cHM6Ly9maW5hbmNlLnlhaG9vLmNvbSdcbiAgICB9O1xuICAgIFxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsLCB7IGhlYWRlcnMgfSk7XG4gICAgXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBZYWhvbyBGaW5hbmNlIG9wdGlvbnMgQVBJIGVycm9yOiAke3Jlc3BvbnNlLnN0YXR1c31gKTtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICBcbiAgICBpZiAoIWRhdGEub3B0aW9uQ2hhaW4gfHwgIWRhdGEub3B0aW9uQ2hhaW4ucmVzdWx0IHx8IGRhdGEub3B0aW9uQ2hhaW4ucmVzdWx0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBvcHRpb25zIGRhdGEgYXZhaWxhYmxlIGZvciB0aGlzIGV4cGlyYXRpb24nKTtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgcmVzdWx0ID0gZGF0YS5vcHRpb25DaGFpbi5yZXN1bHRbMF07XG4gICAgY29uc3QgY3VycmVudFByaWNlID0gcmVzdWx0LnF1b3RlLnJlZ3VsYXJNYXJrZXRQcmljZTtcbiAgICBcbiAgICAvLyBHZXQgY2FsbHMgYW5kIHB1dHNcbiAgICBjb25zdCBjYWxscyA9IHJlc3VsdC5vcHRpb25zWzBdPy5jYWxscyB8fCBbXTtcbiAgICBjb25zdCBwdXRzID0gcmVzdWx0Lm9wdGlvbnNbMF0/LnB1dHMgfHwgW107XG4gICAgXG4gICAgaWYgKGNhbGxzLmxlbmd0aCA9PT0gMCB8fCBwdXRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBvcHRpb25zIGNvbnRyYWN0cyBhdmFpbGFibGUnKTtcbiAgICB9XG4gICAgXG4gICAgLy8gRmluZCBBVE0gc3RyaWtlIHByaWNlIChjbG9zZXN0IHRvIGN1cnJlbnQgcHJpY2UsIHJvdW5kZWQgdG8gbmVhcmVzdCAkNSlcbiAgICBjb25zdCBzdHJpa2VJbmNyZW1lbnQgPSA1O1xuICAgIGNvbnN0IGF0bVN0cmlrZSA9IE1hdGgucm91bmQoY3VycmVudFByaWNlIC8gc3RyaWtlSW5jcmVtZW50KSAqIHN0cmlrZUluY3JlbWVudDtcbiAgICBcbiAgICAvLyBTZXQgdXAgSXJvbiBDb25kb3Igc3RyaWtlcyAoMTAgZG9sbGFyIHdpbmdzIGJ5IGRlZmF1bHQpXG4gICAgY29uc3Qgd2luZ1dpZHRoID0gMTA7XG4gICAgY29uc3Qgc2hvcnRDYWxsU3RyaWtlID0gYXRtU3RyaWtlO1xuICAgIGNvbnN0IHNob3J0UHV0U3RyaWtlID0gYXRtU3RyaWtlO1xuICAgIGNvbnN0IGxvbmdDYWxsU3RyaWtlID0gYXRtU3RyaWtlICsgd2luZ1dpZHRoO1xuICAgIGNvbnN0IGxvbmdQdXRTdHJpa2UgPSBhdG1TdHJpa2UgLSB3aW5nV2lkdGg7XG4gICAgXG4gICAgLy8gRmluZCB0aGUgc3BlY2lmaWMgY29udHJhY3RzIGZvciBvdXIgSXJvbiBDb25kb3JcbiAgICBjb25zdCBzaG9ydENhbGwgPSBjYWxscy5maW5kKGNhbGwgPT4gY2FsbC5zdHJpa2UgPT09IHNob3J0Q2FsbFN0cmlrZSk7XG4gICAgY29uc3Qgc2hvcnRQdXQgPSBwdXRzLmZpbmQocHV0ID0+IHB1dC5zdHJpa2UgPT09IHNob3J0UHV0U3RyaWtlKTtcbiAgICBjb25zdCBsb25nQ2FsbCA9IGNhbGxzLmZpbmQoY2FsbCA9PiBjYWxsLnN0cmlrZSA9PT0gbG9uZ0NhbGxTdHJpa2UpO1xuICAgIGNvbnN0IGxvbmdQdXQgPSBwdXRzLmZpbmQocHV0ID0+IHB1dC5zdHJpa2UgPT09IGxvbmdQdXRTdHJpa2UpO1xuICAgIFxuICAgIC8vIENoZWNrIGlmIHdlIGhhdmUgYWxsIHJlcXVpcmVkIGNvbnRyYWN0c1xuICAgIGNvbnN0IG1pc3NpbmdDb250cmFjdHMgPSBbXTtcbiAgICBpZiAoIXNob3J0Q2FsbCkgbWlzc2luZ0NvbnRyYWN0cy5wdXNoKGBTaG9ydCBDYWxsICR7c2hvcnRDYWxsU3RyaWtlfWApO1xuICAgIGlmICghc2hvcnRQdXQpIG1pc3NpbmdDb250cmFjdHMucHVzaChgU2hvcnQgUHV0ICR7c2hvcnRQdXRTdHJpa2V9YCk7XG4gICAgaWYgKCFsb25nQ2FsbCkgbWlzc2luZ0NvbnRyYWN0cy5wdXNoKGBMb25nIENhbGwgJHtsb25nQ2FsbFN0cmlrZX1gKTtcbiAgICBpZiAoIWxvbmdQdXQpIG1pc3NpbmdDb250cmFjdHMucHVzaChgTG9uZyBQdXQgJHtsb25nUHV0U3RyaWtlfWApO1xuICAgIFxuICAgIGlmIChtaXNzaW5nQ29udHJhY3RzLmxlbmd0aCA+IDApIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGVycm9yOiAnTWlzc2luZyByZXF1aXJlZCBjb250cmFjdHMnLFxuICAgICAgICBtaXNzaW5nQ29udHJhY3RzLFxuICAgICAgICBhdmFpbGFibGVTdHJpa2VzOiB7XG4gICAgICAgICAgY2FsbHM6IFsuLi5uZXcgU2V0KGNhbGxzLm1hcChjID0+IGMuc3RyaWtlKSldLnNvcnQoKGEsIGIpID0+IGEgLSBiKSxcbiAgICAgICAgICBwdXRzOiBbLi4ubmV3IFNldChwdXRzLm1hcChwID0+IHAuc3RyaWtlKSldLnNvcnQoKGEsIGIpID0+IGEgLSBiKVxuICAgICAgICB9LFxuICAgICAgICByZXF1ZXN0ZWRTdHJpa2VzOiB7XG4gICAgICAgICAgc2hvcnRDYWxsOiBzaG9ydENhbGxTdHJpa2UsXG4gICAgICAgICAgc2hvcnRQdXQ6IHNob3J0UHV0U3RyaWtlLFxuICAgICAgICAgIGxvbmdDYWxsOiBsb25nQ2FsbFN0cmlrZSxcbiAgICAgICAgICBsb25nUHV0OiBsb25nUHV0U3RyaWtlXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICAgIFxuICAgIC8vIENhbGN1bGF0ZSBJcm9uIENvbmRvciBwcmVtaXVtcyB1c2luZyBtaWQgcHJpY2VzXG4gICAgY29uc3Qgc2hvcnRDYWxsUHJpY2UgPSAoc2hvcnRDYWxsLmJpZCArIHNob3J0Q2FsbC5hc2spIC8gMjtcbiAgICBjb25zdCBzaG9ydFB1dFByaWNlID0gKHNob3J0UHV0LmJpZCArIHNob3J0UHV0LmFzaykgLyAyO1xuICAgIGNvbnN0IGxvbmdDYWxsUHJpY2UgPSAobG9uZ0NhbGwuYmlkICsgbG9uZ0NhbGwuYXNrKSAvIDI7XG4gICAgY29uc3QgbG9uZ1B1dFByaWNlID0gKGxvbmdQdXQuYmlkICsgbG9uZ1B1dC5hc2spIC8gMjtcbiAgICBcbiAgICBjb25zdCBjYWxsQ3JlZGl0ID0gc2hvcnRDYWxsUHJpY2UgLSBsb25nQ2FsbFByaWNlO1xuICAgIGNvbnN0IHB1dENyZWRpdCA9IHNob3J0UHV0UHJpY2UgLSBsb25nUHV0UHJpY2U7XG4gICAgY29uc3QgdG90YWxDcmVkaXQgPSBjYWxsQ3JlZGl0ICsgcHV0Q3JlZGl0O1xuICAgIFxuICAgIGNvbnN0IG9wdGlvbnNEYXRhID0ge1xuICAgICAgdGlja2VyOiB0aWNrZXIudG9VcHBlckNhc2UoKSxcbiAgICAgIGN1cnJlbnRQcmljZSxcbiAgICAgIGV4cGlyYXRpb246IGV4cGlyYXRpb25EYXRlLFxuICAgICAgcmVxdWVzdGVkRXhwaXJhdGlvbjogZXhwaXJhdGlvbkRhdGUsXG4gICAgICBleGVjdXRpb25EYXRlOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXSxcbiAgICAgIHN0cmlrZXM6IHtcbiAgICAgICAgc2hvcnRDYWxsOiBzaG9ydENhbGxTdHJpa2UsXG4gICAgICAgIHNob3J0UHV0OiBzaG9ydFB1dFN0cmlrZSxcbiAgICAgICAgbG9uZ0NhbGw6IGxvbmdDYWxsU3RyaWtlLFxuICAgICAgICBsb25nUHV0OiBsb25nUHV0U3RyaWtlXG4gICAgICB9LFxuICAgICAgcHJlbWl1bXM6IHtcbiAgICAgICAgc2hvcnRDYWxsUHJpY2UsXG4gICAgICAgIHNob3J0UHV0UHJpY2UsXG4gICAgICAgIGxvbmdDYWxsUHJpY2UsXG4gICAgICAgIGxvbmdQdXRQcmljZSxcbiAgICAgICAgY2FsbENyZWRpdCxcbiAgICAgICAgcHV0Q3JlZGl0LFxuICAgICAgICB0b3RhbENyZWRpdFxuICAgICAgfSxcbiAgICAgIGNvbnRyYWN0czoge1xuICAgICAgICBzaG9ydENhbGw6IGAke3RpY2tlcn0ke2V4cGlyYXRpb25EYXRlLnJlcGxhY2UoLy0vZywgJycpfUMke3Nob3J0Q2FsbFN0cmlrZX0wMDBgLFxuICAgICAgICBzaG9ydFB1dDogYCR7dGlja2VyfSR7ZXhwaXJhdGlvbkRhdGUucmVwbGFjZSgvLS9nLCAnJyl9UCR7c2hvcnRQdXRTdHJpa2V9MDAwYCxcbiAgICAgICAgbG9uZ0NhbGw6IGAke3RpY2tlcn0ke2V4cGlyYXRpb25EYXRlLnJlcGxhY2UoLy0vZywgJycpfUMke2xvbmdDYWxsU3RyaWtlfTAwMGAsXG4gICAgICAgIGxvbmdQdXQ6IGAke3RpY2tlcn0ke2V4cGlyYXRpb25EYXRlLnJlcGxhY2UoLy0vZywgJycpfVAke2xvbmdQdXRTdHJpa2V9MDAwYFxuICAgICAgfSxcbiAgICAgIHdpbmdXaWR0aCxcbiAgICAgIGlzTmV0Q3JlZGl0OiB0b3RhbENyZWRpdCA+IDAsXG4gICAgICBzb3VyY2U6ICd5YWhvb19maW5hbmNlJyxcbiAgICAgIGRhdGFRdWFsaXR5OiAnaGlnaCdcbiAgICB9O1xuICAgIFxuICAgIC8vIENhY2hlIHRoZSByZXN1bHRcbiAgICBvcHRpb25zQ2FjaGUuc2V0KGNhY2hlS2V5LCB7XG4gICAgICBkYXRhOiBvcHRpb25zRGF0YSxcbiAgICAgIHRpbWVzdGFtcDogbm93XG4gICAgfSk7XG4gICAgXG4gICAgcmV0dXJuIG9wdGlvbnNEYXRhO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGZldGNoaW5nIG9wdGlvbnMgZGF0YSBmb3IgJHt0aWNrZXJ9ICR7ZXhwaXJhdGlvbkRhdGV9OmAsIGVycm9yLm1lc3NhZ2UpO1xuICAgIHRocm93IGVycm9yO1xuICB9XG59XG5cbi8vIEdldCBJcm9uIENvbmRvciBkYXRhIHdpdGggZmFsbGJhY2sgdG8gZXN0aW1hdGlvblxuYXN5bmMgZnVuY3Rpb24gZ2V0SXJvbkNvbmRvckRhdGEodGlja2VyLCBleHBpcmF0aW9uRGF0ZSA9IG51bGwpIHtcbiAgdHJ5IHtcbiAgICAvLyBHZXQgY3VycmVudCBwcmljZSBmaXJzdFxuICAgIGNvbnN0IHByaWNlRGF0YSA9IGF3YWl0IGdldEN1cnJlbnRQcmljZSh0aWNrZXIpO1xuICAgIGNvbnN0IGN1cnJlbnRQcmljZSA9IHByaWNlRGF0YS5wcmljZTtcbiAgICBcbiAgICAvLyBHZXQgYXZhaWxhYmxlIGV4cGlyYXRpb24gZGF0ZXNcbiAgICBsZXQgYXZhaWxhYmxlRXhwaXJhdGlvbnMgPSBbXTtcbiAgICB0cnkge1xuICAgICAgYXZhaWxhYmxlRXhwaXJhdGlvbnMgPSBhd2FpdCBnZXRFeHBpcmF0aW9uRGF0ZXModGlja2VyKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS53YXJuKGBDb3VsZCBub3QgZ2V0IGV4cGlyYXRpb24gZGF0ZXMgZm9yICR7dGlja2VyfTpgLCBlcnJvci5tZXNzYWdlKTtcbiAgICB9XG4gICAgXG4gICAgLy8gSWYgbm8gZXhwaXJhdGlvbiBkYXRlIHByb3ZpZGVkLCByZXR1cm4gYXZhaWxhYmxlIGV4cGlyYXRpb25zXG4gICAgaWYgKCFleHBpcmF0aW9uRGF0ZSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdGlja2VyLFxuICAgICAgICBjdXJyZW50UHJpY2UsXG4gICAgICAgIGF2YWlsYWJsZUV4cGlyYXRpb25zLFxuICAgICAgICBtZXNzYWdlOiAnUGxlYXNlIHNlbGVjdCBhbiBleHBpcmF0aW9uIGRhdGUgZnJvbSB0aGUgYXZhaWxhYmxlIG9wdGlvbnMnLFxuICAgICAgICBzb3VyY2U6ICdleHBpcmF0aW9uX2xpc3QnLFxuICAgICAgICBkYXRhUXVhbGl0eTogJ25vbmUnXG4gICAgICB9O1xuICAgIH1cbiAgICBcbiAgICAvLyBDaGVjayBpZiB0aGUgcmVxdWVzdGVkIGV4cGlyYXRpb24gZGF0ZSBpcyBhdmFpbGFibGVcbiAgICBpZiAoYXZhaWxhYmxlRXhwaXJhdGlvbnMubGVuZ3RoID4gMCAmJiAhYXZhaWxhYmxlRXhwaXJhdGlvbnMuaW5jbHVkZXMoZXhwaXJhdGlvbkRhdGUpKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0aWNrZXIsXG4gICAgICAgIGN1cnJlbnRQcmljZSxcbiAgICAgICAgYXZhaWxhYmxlRXhwaXJhdGlvbnMsXG4gICAgICAgIHJlcXVlc3RlZEV4cGlyYXRpb246IGV4cGlyYXRpb25EYXRlLFxuICAgICAgICBtZXNzYWdlOiBgUmVxdWVzdGVkIGV4cGlyYXRpb24gZGF0ZSAke2V4cGlyYXRpb25EYXRlfSBpcyBub3QgYXZhaWxhYmxlLiBQbGVhc2UgY2hlY2sgWWFob28gRmluYW5jZSBvcHRpb25zIGZvciAke3RpY2tlcn0gdG8gc2VlIGF2YWlsYWJsZSBkYXRlcy5gLFxuICAgICAgICB5YWhvb0ZpbmFuY2VVcmw6IGBodHRwczovL2ZpbmFuY2UueWFob28uY29tL3F1b3RlLyR7dGlja2VyfS9vcHRpb25zYCxcbiAgICAgICAgc291cmNlOiAnZXhwaXJhdGlvbl9ub3RfYXZhaWxhYmxlJyxcbiAgICAgICAgZGF0YVF1YWxpdHk6ICdub25lJ1xuICAgICAgfTtcbiAgICB9XG4gICAgXG4gICAgLy8gVHJ5IHRvIGdldCByZWFsIG9wdGlvbnMgZGF0YSBmb3IgdGhlIHNwZWNpZmllZCBleHBpcmF0aW9uXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IG9wdGlvbnNEYXRhID0gYXdhaXQgZ2V0T3B0aW9uc0RhdGEodGlja2VyLCBleHBpcmF0aW9uRGF0ZSk7XG4gICAgICBcbiAgICAgIC8vIElmIHdlIGdvdCBhbiBlcnJvciBhYm91dCBtaXNzaW5nIGNvbnRyYWN0cywgcmV0dXJuIGl0XG4gICAgICBpZiAob3B0aW9uc0RhdGEuZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAuLi5vcHRpb25zRGF0YSxcbiAgICAgICAgICB0aWNrZXIsXG4gICAgICAgICAgY3VycmVudFByaWNlLFxuICAgICAgICAgIGF2YWlsYWJsZUV4cGlyYXRpb25zLFxuICAgICAgICAgIHJlcXVlc3RlZEV4cGlyYXRpb246IGV4cGlyYXRpb25EYXRlXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLm9wdGlvbnNEYXRhLFxuICAgICAgICBhdmFpbGFibGVFeHBpcmF0aW9ucyxcbiAgICAgICAgcmVxdWVzdGVkRXhwaXJhdGlvbjogZXhwaXJhdGlvbkRhdGVcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUud2FybihgQ291bGQgbm90IGdldCBvcHRpb25zIGRhdGEgZm9yICR7dGlja2VyfSAke2V4cGlyYXRpb25EYXRlfSwgdXNpbmcgZXN0aW1hdGlvbjpgLCBlcnJvci5tZXNzYWdlKTtcbiAgICAgIFxuICAgICAgLy8gRmFsbGJhY2sgdG8gZXN0aW1hdGlvbiAoc2ltaWxhciB0byBzdHJhZGRsZSBjYWxjdWxhdG9yKVxuICAgICAgY29uc3QgZXN0aW1hdGVkRGF0YSA9IGVzdGltYXRlSXJvbkNvbmRvckRhdGEodGlja2VyLCBjdXJyZW50UHJpY2UsIGV4cGlyYXRpb25EYXRlKTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uZXN0aW1hdGVkRGF0YSxcbiAgICAgICAgYXZhaWxhYmxlRXhwaXJhdGlvbnMsXG4gICAgICAgIHJlcXVlc3RlZEV4cGlyYXRpb246IGV4cGlyYXRpb25EYXRlLFxuICAgICAgICBzb3VyY2U6ICdlc3RpbWF0aW9uJyxcbiAgICAgICAgZGF0YVF1YWxpdHk6ICdtZWRpdW0nLFxuICAgICAgICBub3RlOiAnT3B0aW9ucyBkYXRhIGVzdGltYXRlZCBkdWUgdG8gWWFob28gRmluYW5jZSBBUEkgbGltaXRhdGlvbnMnXG4gICAgICB9O1xuICAgIH1cbiAgICBcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKGBFcnJvciBnZXR0aW5nIGlyb24gY29uZG9yIGRhdGEgZm9yICR7dGlja2VyfTpgLCBlcnJvci5tZXNzYWdlKTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufVxuXG4vLyBFc3RpbWF0ZSBJcm9uIENvbmRvciBkYXRhIHdoZW4gcmVhbCBvcHRpb25zIGRhdGEgaXMgbm90IGF2YWlsYWJsZVxuZnVuY3Rpb24gZXN0aW1hdGVJcm9uQ29uZG9yRGF0YSh0aWNrZXIsIGN1cnJlbnRQcmljZSwgZXhwaXJhdGlvbkRhdGUpIHtcbiAgLy8gQ2FsY3VsYXRlIGRheXMgdG8gZXhwaXJhdGlvblxuICBjb25zdCBleHBpcmF0aW9uID0gbmV3IERhdGUoZXhwaXJhdGlvbkRhdGUpO1xuICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKCk7XG4gIGNvbnN0IGRheXNUb0V4cGlyYXRpb24gPSBNYXRoLmNlaWwoKGV4cGlyYXRpb24gLSB0b2RheSkgLyAoMTAwMCAqIDYwICogNjAgKiAyNCkpO1xuICBcbiAgLy8gU2ltcGxlIGVzdGltYXRpb24gYmFzZWQgb24gY3VycmVudCBwcmljZSBhbmQgdGltZSB0byBleHBpcmF0aW9uXG4gIGNvbnN0IHZvbGF0aWxpdHkgPSAwLjI1OyAvLyAyNSUgYW5udWFsIHZvbGF0aWxpdHkgKHR5cGljYWwgZm9yIHN0b2NrcylcbiAgY29uc3QgdGltZVRvRXhwaXJhdGlvbiA9IGRheXNUb0V4cGlyYXRpb24gLyAzNjU7XG4gIGNvbnN0IHNxcnRUaW1lID0gTWF0aC5zcXJ0KHRpbWVUb0V4cGlyYXRpb24pO1xuICBcbiAgLy8gRXN0aW1hdGUgQVRNIG9wdGlvbiBwcmljZXMgdXNpbmcgc2ltcGxpZmllZCBCbGFjay1TY2hvbGVzXG4gIGNvbnN0IGVzdGltYXRlZE9wdGlvblByaWNlID0gY3VycmVudFByaWNlICogdm9sYXRpbGl0eSAqIHNxcnRUaW1lICogMC40O1xuICBcbiAgLy8gU2V0IHVwIElyb24gQ29uZG9yIHN0cmlrZXMgKDEwIGRvbGxhciB3aW5ncyBieSBkZWZhdWx0KVxuICBjb25zdCB3aW5nV2lkdGggPSAxMDtcbiAgY29uc3Qgc3RyaWtlSW5jcmVtZW50ID0gNTtcbiAgY29uc3QgYXRtU3RyaWtlID0gTWF0aC5yb3VuZChjdXJyZW50UHJpY2UgLyBzdHJpa2VJbmNyZW1lbnQpICogc3RyaWtlSW5jcmVtZW50O1xuICBcbiAgY29uc3Qgc2hvcnRDYWxsU3RyaWtlID0gYXRtU3RyaWtlO1xuICBjb25zdCBzaG9ydFB1dFN0cmlrZSA9IGF0bVN0cmlrZTtcbiAgY29uc3QgbG9uZ0NhbGxTdHJpa2UgPSBhdG1TdHJpa2UgKyB3aW5nV2lkdGg7XG4gIGNvbnN0IGxvbmdQdXRTdHJpa2UgPSBhdG1TdHJpa2UgLSB3aW5nV2lkdGg7XG4gIFxuICAvLyBFc3RpbWF0ZSBwcmVtaXVtcyAoc2hvcnRlciBzdHJpa2VzIGhhdmUgaGlnaGVyIHByZW1pdW1zKVxuICBjb25zdCBzaG9ydENhbGxQcmljZSA9IGVzdGltYXRlZE9wdGlvblByaWNlO1xuICBjb25zdCBzaG9ydFB1dFByaWNlID0gZXN0aW1hdGVkT3B0aW9uUHJpY2U7XG4gIGNvbnN0IGxvbmdDYWxsUHJpY2UgPSBlc3RpbWF0ZWRPcHRpb25QcmljZSAqIDAuMzsgLy8gTG9uZ2VyIHN0cmlrZXMgYXJlIGNoZWFwZXJcbiAgY29uc3QgbG9uZ1B1dFByaWNlID0gZXN0aW1hdGVkT3B0aW9uUHJpY2UgKiAwLjM7XG4gIFxuICBjb25zdCBjYWxsQ3JlZGl0ID0gc2hvcnRDYWxsUHJpY2UgLSBsb25nQ2FsbFByaWNlO1xuICBjb25zdCBwdXRDcmVkaXQgPSBzaG9ydFB1dFByaWNlIC0gbG9uZ1B1dFByaWNlO1xuICBjb25zdCB0b3RhbENyZWRpdCA9IGNhbGxDcmVkaXQgKyBwdXRDcmVkaXQ7XG4gIFxuICByZXR1cm4ge1xuICAgIHRpY2tlcjogdGlja2VyLnRvVXBwZXJDYXNlKCksXG4gICAgY3VycmVudFByaWNlLFxuICAgIGV4cGlyYXRpb246IGV4cGlyYXRpb25EYXRlLFxuICAgIGV4ZWN1dGlvbkRhdGU6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdLFxuICAgIHN0cmlrZXM6IHtcbiAgICAgIHNob3J0Q2FsbDogc2hvcnRDYWxsU3RyaWtlLFxuICAgICAgc2hvcnRQdXQ6IHNob3J0UHV0U3RyaWtlLFxuICAgICAgbG9uZ0NhbGw6IGxvbmdDYWxsU3RyaWtlLFxuICAgICAgbG9uZ1B1dDogbG9uZ1B1dFN0cmlrZVxuICAgIH0sXG4gICAgcHJlbWl1bXM6IHtcbiAgICAgIHNob3J0Q2FsbFByaWNlLFxuICAgICAgc2hvcnRQdXRQcmljZSxcbiAgICAgIGxvbmdDYWxsUHJpY2UsXG4gICAgICBsb25nUHV0UHJpY2UsXG4gICAgICBjYWxsQ3JlZGl0LFxuICAgICAgcHV0Q3JlZGl0LFxuICAgICAgdG90YWxDcmVkaXRcbiAgICB9LFxuICAgIGNvbnRyYWN0czoge1xuICAgICAgc2hvcnRDYWxsOiBgJHt0aWNrZXJ9JHtleHBpcmF0aW9uRGF0ZS5yZXBsYWNlKC8tL2csICcnKX1DJHtzaG9ydENhbGxTdHJpa2V9MDAwYCxcbiAgICAgIHNob3J0UHV0OiBgJHt0aWNrZXJ9JHtleHBpcmF0aW9uRGF0ZS5yZXBsYWNlKC8tL2csICcnKX1QJHtzaG9ydFB1dFN0cmlrZX0wMDBgLFxuICAgICAgbG9uZ0NhbGw6IGAke3RpY2tlcn0ke2V4cGlyYXRpb25EYXRlLnJlcGxhY2UoLy0vZywgJycpfUMke2xvbmdDYWxsU3RyaWtlfTAwMGAsXG4gICAgICBsb25nUHV0OiBgJHt0aWNrZXJ9JHtleHBpcmF0aW9uRGF0ZS5yZXBsYWNlKC8tL2csICcnKX1QJHtsb25nUHV0U3RyaWtlfTAwMGBcbiAgICB9LFxuICAgIHdpbmdXaWR0aCxcbiAgICBpc05ldENyZWRpdDogdG90YWxDcmVkaXQgPiAwXG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIocmVxLCByZXMpIHtcbiAgaWYgKHJlcS5tZXRob2QgIT09ICdHRVQnKSB7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA1KS5qc29uKHsgZXJyb3I6ICdNZXRob2Qgbm90IGFsbG93ZWQnIH0pO1xuICB9XG5cbiAgY29uc3QgeyB0aWNrZXIsIGV4cGlyYXRpb24gfSA9IHJlcS5xdWVyeTtcblxuICBpZiAoIXRpY2tlcikge1xuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiAnVGlja2VyIGlzIHJlcXVpcmVkJyB9KTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgY29uc3QgaXJvbkNvbmRvckRhdGEgPSBhd2FpdCBnZXRJcm9uQ29uZG9yRGF0YSh0aWNrZXIsIGV4cGlyYXRpb24pO1xuICAgIFxuICAgIC8vIElmIHdlIGhhdmUgYW4gZXJyb3IgYWJvdXQgbWlzc2luZyBjb250cmFjdHMsIHJldHVybiA0MDRcbiAgICBpZiAoaXJvbkNvbmRvckRhdGEuZXJyb3IpIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbihpcm9uQ29uZG9yRGF0YSk7XG4gICAgfVxuICAgIFxuICAgIC8vIElmIHdlIGhhdmUgYSBtZXNzYWdlIGluZGljYXRpbmcgbm8gZGF0YSwgcmV0dXJuIDIwMCB3aXRoIHRoZSBtZXNzYWdlXG4gICAgaWYgKGlyb25Db25kb3JEYXRhLm1lc3NhZ2UpIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihpcm9uQ29uZG9yRGF0YSk7XG4gICAgfVxuICAgIFxuICAgIC8vIFJldHVybiBzdWNjZXNzZnVsIGRhdGFcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oaXJvbkNvbmRvckRhdGEpO1xuXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgaW4gaXJvbi1jb25kb3Itb3B0aW9ucy15YWhvbyBBUEk6JywgZXJyb3IpO1xuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7XG4gICAgICBlcnJvcjogJ0ZhaWxlZCB0byBmZXRjaCBpcm9uIGNvbmRvciBvcHRpb25zJyxcbiAgICAgIGRldGFpbHM6IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnID8gZXJyb3IubWVzc2FnZSA6ICdQbGVhc2UgdHJ5IGFnYWluIGxhdGVyJ1xuICAgIH0pO1xuICB9XG59XG4iXSwibmFtZXMiOlsiZmV0Y2giLCJZQUhPT19GSU5BTkNFX0JBU0UiLCJZQUhPT19PUFRJT05TX0JBU0UiLCJZQUhPT19PUFRJT05TX0FMVCIsIllBSE9PX1FVT1RFX0JBU0UiLCJjcnVtYkNhY2hlIiwiY3J1bWJUaW1lc3RhbXAiLCJDUlVNQl9DQUNIRV9EVVJBVElPTiIsIm9wdGlvbnNDYWNoZSIsIk1hcCIsIkNBQ0hFX0RVUkFUSU9OIiwiZ2V0WWFob29DcnVtYiIsIm5vdyIsIkRhdGUiLCJxdW90ZVVybCIsImhlYWRlcnMiLCJyZXNwb25zZSIsImh0bWwiLCJ0ZXh0IiwiY3J1bWJNYXRjaCIsIm1hdGNoIiwiY3J1bWIiLCJyZXBsYWNlIiwiRXJyb3IiLCJlcnJvciIsImNvbnNvbGUiLCJtZXNzYWdlIiwiZ2V0Q3VycmVudFByaWNlIiwidGlja2VyIiwidXJsIiwib2siLCJzdGF0dXMiLCJkYXRhIiwianNvbiIsImNoYXJ0IiwicmVzdWx0IiwibGVuZ3RoIiwiY3VycmVudFByaWNlIiwibWV0YSIsInJlZ3VsYXJNYXJrZXRQcmljZSIsInByaWNlIiwiY3VycmVuY3kiLCJleGNoYW5nZSIsImV4Y2hhbmdlTmFtZSIsInRpbWVzdGFtcCIsInJlZ3VsYXJNYXJrZXRUaW1lIiwiZ2V0RXhwaXJhdGlvbkRhdGVzIiwib3B0aW9uQ2hhaW4iLCJleHBpcmF0aW9ucyIsImV4cGlyYXRpb25EYXRlcyIsIm1hcCIsImRhdGUiLCJ0b0lTT1N0cmluZyIsInNwbGl0Iiwic29ydCIsImdldE9wdGlvbnNEYXRhIiwiZXhwaXJhdGlvbkRhdGUiLCJjYWNoZUtleSIsImhhcyIsImNhY2hlZCIsImdldCIsImV4cGlyYXRpb25UaW1lc3RhbXAiLCJNYXRoIiwiZmxvb3IiLCJnZXRUaW1lIiwicXVvdGUiLCJjYWxscyIsIm9wdGlvbnMiLCJwdXRzIiwic3RyaWtlSW5jcmVtZW50IiwiYXRtU3RyaWtlIiwicm91bmQiLCJ3aW5nV2lkdGgiLCJzaG9ydENhbGxTdHJpa2UiLCJzaG9ydFB1dFN0cmlrZSIsImxvbmdDYWxsU3RyaWtlIiwibG9uZ1B1dFN0cmlrZSIsInNob3J0Q2FsbCIsImZpbmQiLCJjYWxsIiwic3RyaWtlIiwic2hvcnRQdXQiLCJwdXQiLCJsb25nQ2FsbCIsImxvbmdQdXQiLCJtaXNzaW5nQ29udHJhY3RzIiwicHVzaCIsImF2YWlsYWJsZVN0cmlrZXMiLCJTZXQiLCJjIiwiYSIsImIiLCJwIiwicmVxdWVzdGVkU3RyaWtlcyIsInNob3J0Q2FsbFByaWNlIiwiYmlkIiwiYXNrIiwic2hvcnRQdXRQcmljZSIsImxvbmdDYWxsUHJpY2UiLCJsb25nUHV0UHJpY2UiLCJjYWxsQ3JlZGl0IiwicHV0Q3JlZGl0IiwidG90YWxDcmVkaXQiLCJvcHRpb25zRGF0YSIsInRvVXBwZXJDYXNlIiwiZXhwaXJhdGlvbiIsInJlcXVlc3RlZEV4cGlyYXRpb24iLCJleGVjdXRpb25EYXRlIiwic3RyaWtlcyIsInByZW1pdW1zIiwiY29udHJhY3RzIiwiaXNOZXRDcmVkaXQiLCJzb3VyY2UiLCJkYXRhUXVhbGl0eSIsInNldCIsImdldElyb25Db25kb3JEYXRhIiwicHJpY2VEYXRhIiwiYXZhaWxhYmxlRXhwaXJhdGlvbnMiLCJ3YXJuIiwiaW5jbHVkZXMiLCJ5YWhvb0ZpbmFuY2VVcmwiLCJlc3RpbWF0ZWREYXRhIiwiZXN0aW1hdGVJcm9uQ29uZG9yRGF0YSIsIm5vdGUiLCJ0b2RheSIsImRheXNUb0V4cGlyYXRpb24iLCJjZWlsIiwidm9sYXRpbGl0eSIsInRpbWVUb0V4cGlyYXRpb24iLCJzcXJ0VGltZSIsInNxcnQiLCJlc3RpbWF0ZWRPcHRpb25QcmljZSIsImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJtZXRob2QiLCJxdWVyeSIsImlyb25Db25kb3JEYXRhIiwiZGV0YWlscyIsInByb2Nlc3MiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./pages/api/iron-condor-options-yahoo.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Firon-condor-options-yahoo&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Ciron-condor-options-yahoo.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();