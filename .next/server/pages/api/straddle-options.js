"use strict";(()=>{var e={};e.id=0,e.ids=[0],e.modules={145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},4492:(e,t,a)=>{a.r(t),a.d(t,{config:()=>c,default:()=>l,routeModule:()=>u});var r={};a.r(r),a.d(r,{default:()=>d});var o=a(1802),i=a(7153),s=a(6249),n=a(5849);async function d(e,t){if("GET"!==e.method)return t.status(405).json({error:"Method not allowed"});let{ticker:a,expiration:r}=e.query;if(!a||!r)return t.status(400).json({error:"Ticker and expiration date are required"});try{let e=await (0,n.$Q)(a,r),o=new Date(e.expiration),i=new Date;return t.status(200).json({...e,daysToExpiration:Math.ceil((o-i)/864e5),executionDate:new Date().toISOString().split("T")[0]})}catch(a){console.error("Error fetching straddle options:",a);let e="Failed to fetch straddle options";return a.message.includes("No options contracts found")?e="No options contracts found for this ticker. Please verify the ticker symbol.":a.message.includes("No valid expiration dates")?e="No valid expiration dates found. Please try a different date.":a.message.includes("Stock price not available")?e="Unable to fetch current stock price. Please verify the ticker symbol.":a.message.includes("No matching call and put contracts")?e="No matching call and put contracts found for this expiration date.":a.message.includes("Invalid stock price data")&&(e="Invalid stock price data received from Polygon API."),t.status(500).json({error:e,details:a.message})}}let l=(0,s.l)(r,"default"),c=(0,s.l)(r,"config"),u=new o.PagesAPIRouteModule({definition:{kind:i.x.PAGES_API,page:"/api/straddle-options",pathname:"/api/straddle-options",bundlePath:"",filename:""},userland:r})}};var t=require("../../webpack-api-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[485],()=>a(4492));module.exports=r})();