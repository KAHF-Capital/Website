"use strict";(()=>{var e={};e.id=42,e.ids=[42],e.modules={145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},3387:(e,t,o)=>{o.r(t),o.d(t,{config:()=>l,default:()=>c,routeModule:()=>u});var r={};o.r(r),o.d(r,{default:()=>d});var i=o(1802),a=o(7153),n=o(6249),s=o(5849);async function d(e,t){if("GET"!==e.method)return t.status(405).json({error:"Method not allowed"});let{ticker:o,expiration:r,wingWidth:i}=e.query;if(!o||!r)return t.status(400).json({error:"Ticker and expiration date are required"});try{let e=await (0,s.dE)(o,r,parseInt(i)||10),a=new Date(e.expiration),n=new Date;return t.status(200).json({...e,daysToExpiration:Math.ceil((a-n)/864e5),executionDate:new Date().toISOString().split("T")[0]})}catch(o){console.error("Error fetching iron condor options:",o);let e="Failed to fetch iron condor options";return o.message.includes("No options contracts found")?e="No options contracts found for this ticker. Please verify the ticker symbol.":o.message.includes("No valid expiration dates")?e="No valid expiration dates found. Please try a different date.":o.message.includes("Stock price not available")?e="Unable to fetch current stock price. Please verify the ticker symbol.":o.message.includes("Missing contracts")?e=o.message:o.message.includes("Invalid stock price data")&&(e="Invalid stock price data received from Polygon API."),t.status(500).json({error:e,details:o.message})}}let c=(0,n.l)(r,"default"),l=(0,n.l)(r,"config"),u=new i.PagesAPIRouteModule({definition:{kind:a.x.PAGES_API,page:"/api/iron-condor-options",pathname:"/api/iron-condor-options",bundlePath:"",filename:""},userland:r})}};var t=require("../../webpack-api-runtime.js");t.C(e);var o=e=>t(t.s=e),r=t.X(0,[485],()=>o(3387));module.exports=r})();