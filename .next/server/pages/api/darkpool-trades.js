"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/darkpool-trades";
exports.ids = ["pages/api/darkpool-trades"];
exports.modules = {

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fdarkpool-trades&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cdarkpool-trades.js&middlewareConfigBase64=e30%3D!":
/*!************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fdarkpool-trades&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cdarkpool-trades.js&middlewareConfigBase64=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_darkpool_trades_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\darkpool-trades.js */ \"(api)/./pages/api/darkpool-trades.js\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_darkpool_trades_js__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_darkpool_trades_js__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/darkpool-trades\",\n        pathname: \"/api/darkpool-trades\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_darkpool_trades_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmRhcmtwb29sLXRyYWRlcyZwcmVmZXJyZWRSZWdpb249JmFic29sdXRlUGFnZVBhdGg9LiUyRnBhZ2VzJTVDYXBpJTVDZGFya3Bvb2wtdHJhZGVzLmpzJm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNMO0FBQzFEO0FBQzZEO0FBQzdEO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQywwREFBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyxlQUFlLHdFQUFLLENBQUMsMERBQVE7QUFDcEM7QUFDTyx3QkFBd0IsZ0hBQW1CO0FBQ2xEO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVk7QUFDWixDQUFDOztBQUVEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8va2FoZi1jYXBpdGFsLXdlYnNpdGUvPzNlMmIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFnZXNBUElSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL3BhZ2VzLWFwaS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBob2lzdCB9IGZyb20gXCJuZXh0L2Rpc3QvYnVpbGQvdGVtcGxhdGVzL2hlbHBlcnNcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuL3BhZ2VzXFxcXGFwaVxcXFxkYXJrcG9vbC10cmFkZXMuanNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgaGFuZGxlciAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgXCJkZWZhdWx0XCIpO1xuLy8gUmUtZXhwb3J0IGNvbmZpZy5cbmV4cG9ydCBjb25zdCBjb25maWcgPSBob2lzdCh1c2VybGFuZCwgXCJjb25maWdcIik7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc0FQSVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFU19BUEksXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9kYXJrcG9vbC10cmFkZXNcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9kYXJrcG9vbC10cmFkZXNcIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiBcIlwiLFxuICAgICAgICBmaWxlbmFtZTogXCJcIlxuICAgIH0sXG4gICAgdXNlcmxhbmRcbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdlcy1hcGkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fdarkpool-trades&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cdarkpool-trades.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./pages/api/darkpool-trades.js":
/*!**************************************!*\
  !*** ./pages/api/darkpool-trades.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\nconst fs = __webpack_require__(/*! fs */ \"fs\");\nconst path = __webpack_require__(/*! path */ \"path\");\n// Data directory for processed JSON files\nconst DATA_DIR = path.join(process.cwd(), \"data\");\nconst PROCESSED_DIR = path.join(DATA_DIR, \"processed\");\n// Ensure directories exist\nfunction ensureDirectories() {\n    if (!fs.existsSync(DATA_DIR)) {\n        fs.mkdirSync(DATA_DIR, {\n            recursive: true\n        });\n    }\n    if (!fs.existsSync(PROCESSED_DIR)) {\n        fs.mkdirSync(PROCESSED_DIR, {\n            recursive: true\n        });\n    }\n}\n// Get the latest trading day data with 7-day averages\nfunction getLatestTradingDayWithAverages() {\n    try {\n        // Get all date files (excluding summary files)\n        const dateFiles = fs.readdirSync(PROCESSED_DIR).filter((file)=>file.endsWith(\".json\") && !file.includes(\"summary\")).map((file)=>{\n            const dateMatch = file.match(/(\\d{4}-\\d{2}-\\d{2})/);\n            return {\n                date: dateMatch ? dateMatch[1] : null,\n                path: path.join(PROCESSED_DIR, file)\n            };\n        }).filter((file)=>file.date).sort((a, b)=>b.date.localeCompare(a.date)); // Sort by date descending\n        if (dateFiles.length === 0) {\n            return null;\n        }\n        // Get the latest trading day\n        const latestDateFile = dateFiles[0];\n        const latestDateData = JSON.parse(fs.readFileSync(latestDateFile.path, \"utf8\"));\n        // Use the filename date instead of the date inside the JSON file\n        const filenameDate = latestDateFile.date;\n        // Calculate 7-day average for each ticker using the filename date\n        const sevenDaysAgo = new Date(filenameDate);\n        sevenDaysAgo.setDate(sevenDaysAgo.getDate() - 7);\n        // Get all dates within the last 7 days\n        const recentDateFiles = dateFiles.filter((file)=>{\n            const fileDate = new Date(file.date);\n            return fileDate >= sevenDaysAgo && fileDate <= new Date(filenameDate);\n        }).slice(0, 7); // Limit to 7 days\n        // Calculate 7-day averages for each ticker\n        const tickerAverages = {};\n        const tickerCounts = {};\n        recentDateFiles.forEach((file)=>{\n            try {\n                const dateData = JSON.parse(fs.readFileSync(file.path, \"utf8\"));\n                dateData.tickers.forEach((ticker)=>{\n                    if (!tickerAverages[ticker.ticker]) {\n                        tickerAverages[ticker.ticker] = 0;\n                        tickerCounts[ticker.ticker] = 0;\n                    }\n                    tickerAverages[ticker.ticker] += ticker.total_volume;\n                    tickerCounts[ticker.ticker]++;\n                });\n            } catch (error) {\n                console.error(`Error reading file ${file.path}:`, error);\n            }\n        });\n        // Calculate averages\n        Object.keys(tickerAverages).forEach((ticker)=>{\n            tickerAverages[ticker] = Math.round(tickerAverages[ticker] / tickerCounts[ticker]);\n        });\n        // Add 7-day average to latest day's tickers\n        const enhancedTickers = latestDateData.tickers.map((ticker)=>({\n                ...ticker,\n                avg_7day_volume: tickerAverages[ticker.ticker] || 0\n            }));\n        return {\n            date: filenameDate,\n            total_tickers: latestDateData.total_tickers,\n            total_volume: latestDateData.total_volume,\n            last_updated: latestDateData.processed_at || new Date().toISOString(),\n            tickers: enhancedTickers\n        };\n    } catch (error) {\n        console.error(\"Error reading processed data:\", error);\n        return null;\n    }\n}\nasync function handler(req, res) {\n    try {\n        ensureDirectories();\n        const latestData = getLatestTradingDayWithAverages();\n        if (!latestData) {\n            return res.status(404).json({\n                error: \"No processed data found\",\n                message: \"Please process CSV files first using the command line processor\",\n                instructions: [\n                    \"1. Place your CSV files in the data/daily folder\",\n                    \"2. Run: node process-csv.js\",\n                    \"3. Refresh this page to view the results\"\n                ]\n            });\n        }\n        return res.status(200).json(latestData);\n    } catch (error) {\n        console.error(\"Error in darkpool-trades API:\", error);\n        return res.status(500).json({\n            error: \"Error loading processed data\",\n            details:  true ? error.message : 0\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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T0FBTztRQUNkQyxRQUFRRCxLQUFLLENBQUMsaUNBQWlDQTtRQUMvQyxPQUFPYyxJQUFJRSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO1lBQzFCakIsT0FBTztZQUNQb0IsU0FBUy9ELEtBQXlCLEdBQWdCMkMsTUFBTWtCLE9BQU8sR0FBRztRQUNwRTtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9rYWhmLWNhcGl0YWwtd2Vic2l0ZS8uL3BhZ2VzL2FwaS9kYXJrcG9vbC10cmFkZXMuanM/YmQ5NiJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBmcyA9IHJlcXVpcmUoJ2ZzJyk7XG5jb25zdCBwYXRoID0gcmVxdWlyZSgncGF0aCcpO1xuXG4vLyBEYXRhIGRpcmVjdG9yeSBmb3IgcHJvY2Vzc2VkIEpTT04gZmlsZXNcbmNvbnN0IERBVEFfRElSID0gcGF0aC5qb2luKHByb2Nlc3MuY3dkKCksICdkYXRhJyk7XG5jb25zdCBQUk9DRVNTRURfRElSID0gcGF0aC5qb2luKERBVEFfRElSLCAncHJvY2Vzc2VkJyk7XG5cbi8vIEVuc3VyZSBkaXJlY3RvcmllcyBleGlzdFxuZnVuY3Rpb24gZW5zdXJlRGlyZWN0b3JpZXMoKSB7XG4gIGlmICghZnMuZXhpc3RzU3luYyhEQVRBX0RJUikpIHtcbiAgICBmcy5ta2RpclN5bmMoREFUQV9ESVIsIHsgcmVjdXJzaXZlOiB0cnVlIH0pO1xuICB9XG4gIGlmICghZnMuZXhpc3RzU3luYyhQUk9DRVNTRURfRElSKSkge1xuICAgIGZzLm1rZGlyU3luYyhQUk9DRVNTRURfRElSLCB7IHJlY3Vyc2l2ZTogdHJ1ZSB9KTtcbiAgfVxufVxuXG4vLyBHZXQgdGhlIGxhdGVzdCB0cmFkaW5nIGRheSBkYXRhIHdpdGggNy1kYXkgYXZlcmFnZXNcbmZ1bmN0aW9uIGdldExhdGVzdFRyYWRpbmdEYXlXaXRoQXZlcmFnZXMoKSB7XG4gIHRyeSB7XG4gICAgLy8gR2V0IGFsbCBkYXRlIGZpbGVzIChleGNsdWRpbmcgc3VtbWFyeSBmaWxlcylcbiAgICBjb25zdCBkYXRlRmlsZXMgPSBmcy5yZWFkZGlyU3luYyhQUk9DRVNTRURfRElSKVxuICAgICAgLmZpbHRlcihmaWxlID0+IGZpbGUuZW5kc1dpdGgoJy5qc29uJykgJiYgIWZpbGUuaW5jbHVkZXMoJ3N1bW1hcnknKSlcbiAgICAgIC5tYXAoZmlsZSA9PiB7XG4gICAgICAgIGNvbnN0IGRhdGVNYXRjaCA9IGZpbGUubWF0Y2goLyhcXGR7NH0tXFxkezJ9LVxcZHsyfSkvKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBkYXRlOiBkYXRlTWF0Y2ggPyBkYXRlTWF0Y2hbMV0gOiBudWxsLFxuICAgICAgICAgIHBhdGg6IHBhdGguam9pbihQUk9DRVNTRURfRElSLCBmaWxlKVxuICAgICAgICB9O1xuICAgICAgfSlcbiAgICAgIC5maWx0ZXIoZmlsZSA9PiBmaWxlLmRhdGUpXG4gICAgICAuc29ydCgoYSwgYikgPT4gYi5kYXRlLmxvY2FsZUNvbXBhcmUoYS5kYXRlKSk7IC8vIFNvcnQgYnkgZGF0ZSBkZXNjZW5kaW5nXG5cbiAgICBpZiAoZGF0ZUZpbGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgLy8gR2V0IHRoZSBsYXRlc3QgdHJhZGluZyBkYXlcbiAgICBjb25zdCBsYXRlc3REYXRlRmlsZSA9IGRhdGVGaWxlc1swXTtcbiAgICBjb25zdCBsYXRlc3REYXRlRGF0YSA9IEpTT04ucGFyc2UoZnMucmVhZEZpbGVTeW5jKGxhdGVzdERhdGVGaWxlLnBhdGgsICd1dGY4JykpO1xuICAgIFxuICAgIC8vIFVzZSB0aGUgZmlsZW5hbWUgZGF0ZSBpbnN0ZWFkIG9mIHRoZSBkYXRlIGluc2lkZSB0aGUgSlNPTiBmaWxlXG4gICAgY29uc3QgZmlsZW5hbWVEYXRlID0gbGF0ZXN0RGF0ZUZpbGUuZGF0ZTtcblxuICAgIC8vIENhbGN1bGF0ZSA3LWRheSBhdmVyYWdlIGZvciBlYWNoIHRpY2tlciB1c2luZyB0aGUgZmlsZW5hbWUgZGF0ZVxuICAgIGNvbnN0IHNldmVuRGF5c0FnbyA9IG5ldyBEYXRlKGZpbGVuYW1lRGF0ZSk7XG4gICAgc2V2ZW5EYXlzQWdvLnNldERhdGUoc2V2ZW5EYXlzQWdvLmdldERhdGUoKSAtIDcpO1xuXG4gICAgLy8gR2V0IGFsbCBkYXRlcyB3aXRoaW4gdGhlIGxhc3QgNyBkYXlzXG4gICAgY29uc3QgcmVjZW50RGF0ZUZpbGVzID0gZGF0ZUZpbGVzXG4gICAgICAuZmlsdGVyKGZpbGUgPT4ge1xuICAgICAgICBjb25zdCBmaWxlRGF0ZSA9IG5ldyBEYXRlKGZpbGUuZGF0ZSk7XG4gICAgICAgIHJldHVybiBmaWxlRGF0ZSA+PSBzZXZlbkRheXNBZ28gJiYgZmlsZURhdGUgPD0gbmV3IERhdGUoZmlsZW5hbWVEYXRlKTtcbiAgICAgIH0pXG4gICAgICAuc2xpY2UoMCwgNyk7IC8vIExpbWl0IHRvIDcgZGF5c1xuXG4gICAgLy8gQ2FsY3VsYXRlIDctZGF5IGF2ZXJhZ2VzIGZvciBlYWNoIHRpY2tlclxuICAgIGNvbnN0IHRpY2tlckF2ZXJhZ2VzID0ge307XG4gICAgY29uc3QgdGlja2VyQ291bnRzID0ge307XG5cbiAgICByZWNlbnREYXRlRmlsZXMuZm9yRWFjaChmaWxlID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGRhdGVEYXRhID0gSlNPTi5wYXJzZShmcy5yZWFkRmlsZVN5bmMoZmlsZS5wYXRoLCAndXRmOCcpKTtcbiAgICAgICAgZGF0ZURhdGEudGlja2Vycy5mb3JFYWNoKHRpY2tlciA9PiB7XG4gICAgICAgICAgaWYgKCF0aWNrZXJBdmVyYWdlc1t0aWNrZXIudGlja2VyXSkge1xuICAgICAgICAgICAgdGlja2VyQXZlcmFnZXNbdGlja2VyLnRpY2tlcl0gPSAwO1xuICAgICAgICAgICAgdGlja2VyQ291bnRzW3RpY2tlci50aWNrZXJdID0gMDtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGlja2VyQXZlcmFnZXNbdGlja2VyLnRpY2tlcl0gKz0gdGlja2VyLnRvdGFsX3ZvbHVtZTtcbiAgICAgICAgICB0aWNrZXJDb3VudHNbdGlja2VyLnRpY2tlcl0rKztcbiAgICAgICAgfSk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciByZWFkaW5nIGZpbGUgJHtmaWxlLnBhdGh9OmAsIGVycm9yKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIENhbGN1bGF0ZSBhdmVyYWdlc1xuICAgIE9iamVjdC5rZXlzKHRpY2tlckF2ZXJhZ2VzKS5mb3JFYWNoKHRpY2tlciA9PiB7XG4gICAgICB0aWNrZXJBdmVyYWdlc1t0aWNrZXJdID0gTWF0aC5yb3VuZCh0aWNrZXJBdmVyYWdlc1t0aWNrZXJdIC8gdGlja2VyQ291bnRzW3RpY2tlcl0pO1xuICAgIH0pO1xuXG4gICAgLy8gQWRkIDctZGF5IGF2ZXJhZ2UgdG8gbGF0ZXN0IGRheSdzIHRpY2tlcnNcbiAgICBjb25zdCBlbmhhbmNlZFRpY2tlcnMgPSBsYXRlc3REYXRlRGF0YS50aWNrZXJzLm1hcCh0aWNrZXIgPT4gKHtcbiAgICAgIC4uLnRpY2tlcixcbiAgICAgIGF2Z183ZGF5X3ZvbHVtZTogdGlja2VyQXZlcmFnZXNbdGlja2VyLnRpY2tlcl0gfHwgMFxuICAgIH0pKTtcblxuICAgIHJldHVybiB7XG4gICAgICBkYXRlOiBmaWxlbmFtZURhdGUsIC8vIFVzZSBmaWxlbmFtZSBkYXRlIGluc3RlYWQgb2YgSlNPTiBkYXRlXG4gICAgICB0b3RhbF90aWNrZXJzOiBsYXRlc3REYXRlRGF0YS50b3RhbF90aWNrZXJzLFxuICAgICAgdG90YWxfdm9sdW1lOiBsYXRlc3REYXRlRGF0YS50b3RhbF92b2x1bWUsXG4gICAgICBsYXN0X3VwZGF0ZWQ6IGxhdGVzdERhdGVEYXRhLnByb2Nlc3NlZF9hdCB8fCBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICB0aWNrZXJzOiBlbmhhbmNlZFRpY2tlcnNcbiAgICB9O1xuXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgcmVhZGluZyBwcm9jZXNzZWQgZGF0YTonLCBlcnJvcik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXEsIHJlcykge1xuICB0cnkge1xuICAgIGVuc3VyZURpcmVjdG9yaWVzKCk7XG4gICAgXG4gICAgY29uc3QgbGF0ZXN0RGF0YSA9IGdldExhdGVzdFRyYWRpbmdEYXlXaXRoQXZlcmFnZXMoKTtcbiAgICBcbiAgICBpZiAoIWxhdGVzdERhdGEpIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7XG4gICAgICAgIGVycm9yOiAnTm8gcHJvY2Vzc2VkIGRhdGEgZm91bmQnLFxuICAgICAgICBtZXNzYWdlOiAnUGxlYXNlIHByb2Nlc3MgQ1NWIGZpbGVzIGZpcnN0IHVzaW5nIHRoZSBjb21tYW5kIGxpbmUgcHJvY2Vzc29yJyxcbiAgICAgICAgaW5zdHJ1Y3Rpb25zOiBbXG4gICAgICAgICAgJzEuIFBsYWNlIHlvdXIgQ1NWIGZpbGVzIGluIHRoZSBkYXRhL2RhaWx5IGZvbGRlcicsXG4gICAgICAgICAgJzIuIFJ1bjogbm9kZSBwcm9jZXNzLWNzdi5qcycsXG4gICAgICAgICAgJzMuIFJlZnJlc2ggdGhpcyBwYWdlIHRvIHZpZXcgdGhlIHJlc3VsdHMnXG4gICAgICAgIF1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihsYXRlc3REYXRhKTtcblxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluIGRhcmtwb29sLXRyYWRlcyBBUEk6JywgZXJyb3IpO1xuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7XG4gICAgICBlcnJvcjogJ0Vycm9yIGxvYWRpbmcgcHJvY2Vzc2VkIGRhdGEnLFxuICAgICAgZGV0YWlsczogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcgPyBlcnJvci5tZXNzYWdlIDogJ1BsZWFzZSB0cnkgYWdhaW4gbGF0ZXInXG4gICAgfSk7XG4gIH1cbn1cblxuXG4iXSwibmFtZXMiOlsiZnMiLCJyZXF1aXJlIiwicGF0aCIsIkRBVEFfRElSIiwiam9pbiIsInByb2Nlc3MiLCJjd2QiLCJQUk9DRVNTRURfRElSIiwiZW5zdXJlRGlyZWN0b3JpZXMiLCJleGlzdHNTeW5jIiwibWtkaXJTeW5jIiwicmVjdXJzaXZlIiwiZ2V0TGF0ZXN0VHJhZGluZ0RheVdpdGhBdmVyYWdlcyIsImRhdGVGaWxlcyIsInJlYWRkaXJTeW5jIiwiZmlsdGVyIiwiZmlsZSIsImVuZHNXaXRoIiwiaW5jbHVkZXMiLCJtYXAiLCJkYXRlTWF0Y2giLCJtYXRjaCIsImRhdGUiLCJzb3J0IiwiYSIsImIiLCJsb2NhbGVDb21wYXJlIiwibGVuZ3RoIiwibGF0ZXN0RGF0ZUZpbGUiLCJsYXRlc3REYXRlRGF0YSIsIkpTT04iLCJwYXJzZSIsInJlYWRGaWxlU3luYyIsImZpbGVuYW1lRGF0ZSIsInNldmVuRGF5c0FnbyIsIkRhdGUiLCJzZXREYXRlIiwiZ2V0RGF0ZSIsInJlY2VudERhdGVGaWxlcyIsImZpbGVEYXRlIiwic2xpY2UiLCJ0aWNrZXJBdmVyYWdlcyIsInRpY2tlckNvdW50cyIsImZvckVhY2giLCJkYXRlRGF0YSIsInRpY2tlcnMiLCJ0aWNrZXIiLCJ0b3RhbF92b2x1bWUiLCJlcnJvciIsImNvbnNvbGUiLCJPYmplY3QiLCJrZXlzIiwiTWF0aCIsInJvdW5kIiwiZW5oYW5jZWRUaWNrZXJzIiwiYXZnXzdkYXlfdm9sdW1lIiwidG90YWxfdGlja2VycyIsImxhc3RfdXBkYXRlZCIsInByb2Nlc3NlZF9hdCIsInRvSVNPU3RyaW5nIiwiaGFuZGxlciIsInJlcSIsInJlcyIsImxhdGVzdERhdGEiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsImluc3RydWN0aW9ucyIsImRldGFpbHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./pages/api/darkpool-trades.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fdarkpool-trades&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cdarkpool-trades.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();