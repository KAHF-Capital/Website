(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[966],{95458:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account",function(){return r(65035)}])},92761:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(11006).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},77918:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(11006).Z)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]])},68655:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(11006).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},23050:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(11006).Z)("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},14235:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(11006).Z)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},21700:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(11006).Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},69819:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(11006).Z)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},46611:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(11006).Z)("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]])},65035:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return w}});var s=r(85893),a=r(67294),l=r(11163),n=r(41664),i=r.n(n),c=r(92761),o=r(23050),d=r(68655),x=r(8267),m=r(86691),u=r(14235),h=r(46611),g=r(21700),p=r(69819),y=r(77918),b=r(62159),f=r(92568),v=r(42371),j=r(84282);function N(){let e=(0,l.useRouter)(),{user:t,userData:r,loading:n,refreshUserData:N,hasActiveSubscription:w}=(0,b.a)(),[k,Z]=(0,a.useState)(""),[A,S]=(0,a.useState)({minVolumeRatio:1.5,maxAlertsPerDay:5,watchlist:[]}),[P,M]=(0,a.useState)(""),[C,V]=(0,a.useState)(!1),[_,E]=(0,a.useState)({type:"",text:""});(0,a.useEffect)(()=>{n||t||e.push("/login?redirect=/account")},[t,n,e]),(0,a.useEffect)(()=>{if(r){var e,t,s,a;Z(r.phoneNumber||""),S({minVolumeRatio:(null===(e=r.preferences)||void 0===e?void 0:e.minVolumeRatio)||1.5,maxAlertsPerDay:(null===(t=r.preferences)||void 0===t?void 0:t.maxAlertsPerDay)||5,watchlist:(null===(s=r.preferences)||void 0===s?void 0:s.watchlist)||[]}),M(((null===(a=r.preferences)||void 0===a?void 0:a.watchlist)||[]).join(", "))}},[r]);let z=async()=>{if(!k){E({type:"error",text:"Please enter a phone number"});return}let e=function(e){let t=e.replace(/[^\d+]/g,"");return t.startsWith("+1")&&12===t.length?{valid:!0,formatted:t}:/^\d{10}$/.test(t)?{valid:!0,formatted:"+1".concat(t)}:t.startsWith("1")&&11===t.length?{valid:!0,formatted:"+".concat(t)}:{valid:!1,formatted:null}}(k);if(!e.valid){E({type:"error",text:"Please enter a valid US phone number"});return}V(!0),E({type:"",text:""});let r=await (0,f.Qz)(t.uid,e.formatted);r.success?(E({type:"success",text:"Phone number saved successfully!"}),await N()):E({type:"error",text:r.error||"Failed to save phone number"}),V(!1)},D=async()=>{V(!0),E({type:"",text:""});let e=P.split(",").map(e=>e.trim().toUpperCase()).filter(e=>/^[A-Z]{1,5}$/.test(e)).slice(0,20),r={...A,watchlist:e},s=await (0,f.il)(t.uid,r);s.success?(E({type:"success",text:"Preferences saved successfully!"}),await N()):E({type:"error",text:s.error||"Failed to save preferences"}),V(!1)};return n?(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600"})}):t?(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,s.jsx)(v.Z,{}),(0,s.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[(0,s.jsxs)(i(),{href:"/",className:"inline-flex items-center text-gray-600 hover:text-green-600 mb-6",children:[(0,s.jsx)(c.Z,{className:"h-4 w-4 mr-1"}),"Back to Home"]}),(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Account Settings"}),_.text&&(0,s.jsxs)("div",{className:"mb-6 p-4 rounded-lg flex items-start ".concat("success"===_.type?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"),children:["success"===_.type?(0,s.jsx)(o.Z,{className:"h-5 w-5 text-green-500 mr-2 flex-shrink-0"}):(0,s.jsx)(d.Z,{className:"h-5 w-5 text-red-500 mr-2 flex-shrink-0"}),(0,s.jsx)("p",{className:"success"===_.type?"text-green-700":"text-red-700",children:_.text})]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,s.jsxs)("div",{className:"flex items-center mb-4",children:[(0,s.jsx)(x.Z,{className:"h-5 w-5 text-green-600 mr-2"}),(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Profile"})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Display Name"}),(0,s.jsx)("input",{type:"text",value:t.displayName||"",disabled:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Update your display name through your Google account or Firebase settings"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(m.Z,{className:"h-4 w-4 text-gray-400 mr-2"}),(0,s.jsx)("span",{className:"text-gray-900",children:t.email})]})]})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,s.jsxs)("div",{className:"flex items-center mb-4",children:[(0,s.jsx)(u.Z,{className:"h-5 w-5 text-green-600 mr-2"}),(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Subscription"})]}),w()?(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center p-4 bg-green-50 rounded-lg",children:[(0,s.jsx)(h.Z,{className:"h-6 w-6 text-green-600 mr-3"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-semibold text-green-800",children:"VolAlert Pro Active"}),(0,s.jsx)("p",{className:"text-sm text-green-600",children:"You have full access to SMS alerts"})]})]}),(0,s.jsx)("a",{href:"https://billing.stripe.com/p/login/cNi28tdb74N6d8L6lz0oM00",target:"_blank",rel:"noopener noreferrer",className:"inline-block bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg font-medium transition-colors",children:"Manage Billing"})]}):(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("p",{className:"text-gray-600",children:"You're on the free plan. Upgrade to VolAlert Pro for SMS alerts on dark pool activity."}),(0,s.jsxs)("a",{href:"https://buy.stripe.com/4gM8wR0ol1AU1q3eS50oM01",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg font-medium transition-colors",children:[(0,s.jsx)(h.Z,{className:"h-5 w-5 mr-2"}),"Upgrade to VolAlert Pro"]})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,s.jsxs)("div",{className:"flex items-center mb-4",children:[(0,s.jsx)(g.Z,{className:"h-5 w-5 text-green-600 mr-2"}),(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"SMS Alerts Phone"})]}),(0,s.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:w()?"Enter your phone number to receive SMS alerts for dark pool activity.":"Upgrade to VolAlert Pro to receive SMS alerts."}),(0,s.jsxs)("div",{className:"flex space-x-3",children:[(0,s.jsx)("input",{type:"tel",value:k,onChange:e=>Z(e.target.value),placeholder:"+1 (555) 123-4567",disabled:!w(),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 disabled:bg-gray-100 disabled:text-gray-400"}),(0,s.jsxs)("button",{onClick:z,disabled:C||!w(),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:[(0,s.jsx)(p.Z,{className:"h-4 w-4 mr-1"}),"Save"]})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,s.jsxs)("div",{className:"flex items-center mb-4",children:[(0,s.jsx)(y.Z,{className:"h-5 w-5 text-green-600 mr-2"}),(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Alert Preferences"})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Minimum Volume Ratio"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mb-2",children:"Only alert when dark pool volume is X times higher than the 7-day average"}),(0,s.jsxs)("select",{value:A.minVolumeRatio,onChange:e=>S(t=>({...t,minVolumeRatio:parseFloat(e.target.value)})),disabled:!w(),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 disabled:bg-gray-100",children:[(0,s.jsx)("option",{value:1,children:"1.0x (All activity)"}),(0,s.jsx)("option",{value:1.5,children:"1.5x (Moderate spike)"}),(0,s.jsx)("option",{value:2,children:"2.0x (High activity)"}),(0,s.jsx)("option",{value:3,children:"3.0x (Very high activity)"}),(0,s.jsx)("option",{value:5,children:"5.0x (Extreme activity only)"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Alerts Per Day"}),(0,s.jsxs)("select",{value:A.maxAlertsPerDay,onChange:e=>S(t=>({...t,maxAlertsPerDay:parseInt(e.target.value)})),disabled:!w(),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 disabled:bg-gray-100",children:[(0,s.jsx)("option",{value:3,children:"3 alerts"}),(0,s.jsx)("option",{value:5,children:"5 alerts"}),(0,s.jsx)("option",{value:10,children:"10 alerts"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Watchlist (optional)"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mb-2",children:"Comma-separated tickers to prioritize (e.g., AAPL, TSLA, SPY)"}),(0,s.jsx)("input",{type:"text",value:P,onChange:e=>M(e.target.value),placeholder:"AAPL, TSLA, SPY, NVDA",disabled:!w(),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 disabled:bg-gray-100"})]}),(0,s.jsxs)("button",{onClick:D,disabled:C||!w(),className:"bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:[(0,s.jsx)(p.Z,{className:"h-4 w-4 mr-2"}),C?"Saving...":"Save Preferences"]})]})]})]})]}),(0,s.jsx)(j.Z,{})]}):null}function w(){return(0,s.jsx)(N,{})}}},function(e){e.O(0,[648,688,204,888,774,179],function(){return e(e.s=95458)}),_N_E=e.O()}]);