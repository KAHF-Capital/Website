(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[379],{13379:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/straddle-calculator",function(){return s(34138)}])},28562:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(11006).Z)("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},23050:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(11006).Z)("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},74598:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(11006).Z)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},70095:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(11006).Z)("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]])},20113:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(11006).Z)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},39810:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(11006).Z)("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]])},90437:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(11006).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},52542:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(11006).Z)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},34138:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return P}});var r=s(85893),a=s(67294);let l=a.forwardRef((e,t)=>{let{className:s="",variant:a="default",size:l="default",children:i,...n}=e,d="".concat("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background"," ").concat({default:"bg-blue-600 text-white hover:bg-blue-700",destructive:"bg-red-600 text-white hover:bg-red-700",outline:"border border-gray-300 bg-white text-gray-700 hover:bg-gray-50",secondary:"bg-gray-100 text-gray-900 hover:bg-gray-200",ghost:"hover:bg-gray-100 text-gray-700",link:"underline-offset-4 hover:underline text-blue-600"}[a]," ").concat({default:"h-10 py-2 px-4",sm:"h-9 px-3 rounded-md",lg:"h-11 px-8 rounded-md",icon:"h-10 w-10"}[l]," ").concat(s);return(0,r.jsx)("button",{ref:t,className:d,...n,children:i})});l.displayName="Button";let i=a.forwardRef((e,t)=>{let{className:s="",type:a="text",...l}=e;return(0,r.jsx)("input",{type:a,className:"".concat("flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"," ").concat(s),ref:t,...l})});i.displayName="Input";let n=a.forwardRef((e,t)=>{let{className:s="",variant:a="default",children:l,...i}=e,n="".concat("inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium"," ").concat({default:"bg-gray-100 text-gray-800",secondary:"bg-gray-100 text-gray-900",destructive:"bg-red-100 text-red-800",outline:"border border-gray-200 bg-white text-gray-700"}[a]," ").concat(s);return(0,r.jsx)("span",{ref:t,className:n,...i,children:l})});n.displayName="Badge";var d=s(42171);a.forwardRef((e,t)=>{let{className:s="",children:l,onValueChange:i,...n}=e,[c,x]=(0,a.useState)(!1),[m,u]=(0,a.useState)(""),[h,g]=(0,a.useState)(""),p=(0,a.useRef)(null),f=(e,t)=>{u(e),g(t),x(!1),i&&i(e)};return(0,a.useEffect)(()=>{let e=e=>{p.current&&!p.current.contains(e.target)&&x(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),(0,r.jsxs)("div",{className:"relative",ref:p,children:[(0,r.jsxs)("button",{ref:t,type:"button",onClick:()=>{x(!c)},className:"flex h-10 w-full items-center justify-between rounded-md border border-gray-300 bg-white px-3 py-2 text-sm ring-offset-background placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ".concat(s),...n,children:[(0,r.jsx)("span",{className:h?"text-gray-900":"text-gray-500",children:h||"Select option..."}),(0,r.jsx)(d.Z,{className:"h-4 w-4 transition-transform ".concat(c?"rotate-180":"")})]}),c&&(0,r.jsx)("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg",children:a.Children.map(l,e=>a.isValidElement(e)&&e.type===o?a.cloneElement(e,{onSelect:f}):e)})]})}).displayName="SelectTrigger",a.forwardRef((e,t)=>{let{placeholder:s="Select option...",...a}=e;return(0,r.jsx)("span",{ref:t,...a,children:s})}).displayName="SelectValue";let o=a.forwardRef((e,t)=>{let{className:s="",children:l,onSelect:i,...n}=e;return(0,r.jsx)("div",{ref:t,className:"py-1 ".concat(s),...n,children:a.Children.map(l,e=>a.isValidElement(e)&&e.type===c?a.cloneElement(e,{onSelect:i}):e)})});o.displayName="SelectContent";let c=a.forwardRef((e,t)=>{let{className:s="",value:a,children:l,onSelect:i,...n}=e;return(0,r.jsx)("div",{ref:t,onClick:()=>{i&&i(a,l)},className:"relative flex w-full cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none hover:bg-gray-100 focus:bg-gray-100 ".concat(s),...n,children:l})});c.displayName="SelectItem";var x=s(28562),m=s(20113),u=s(90437),h=s(39810),g=e=>{let{results:t,breakevens:s}=e;if(!t||!s)return null;let{aboveUpper:a,belowLower:l,totalSamples:i,profitableRate:n}=t,{upperPct:d,lowerPct:o}=s,c=a+l,g=i-c,p=s&&s.upper>0&&s.lower>0,f=e=>Math.abs(e)>=100?e.toFixed(0):Math.abs(e)>=10?e.toFixed(1):e.toFixed(2),b=e=>e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e.toString();return(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-4 sm:mb-6",children:[(0,r.jsx)(x.Z,{className:"h-5 w-5 sm:h-6 sm:w-6 text-green-600"}),(0,r.jsx)("h3",{className:"text-lg sm:text-xl font-semibold text-gray-800",children:"Performance Visualization"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6 lg:gap-8",children:[(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("h4",{className:"text-lg font-medium text-gray-700 flex items-center gap-2",children:[(0,r.jsx)(m.Z,{className:"h-5 w-5 text-green-600"}),"Overall Profitability"]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[(0,r.jsx)("span",{className:"font-medium",children:"Profitable Moves"}),(0,r.jsxs)("span",{className:"font-semibold text-green-600",children:[b(c)," (",f(n),"%)"]})]}),(0,r.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-4 overflow-hidden",children:(0,r.jsx)("div",{className:"bg-gradient-to-r from-green-500 to-green-600 h-4 rounded-full transition-all duration-500 ease-out",style:{width:"".concat(c/i*100,"%")}})})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[(0,r.jsx)("span",{className:"font-medium",children:"Unprofitable Moves"}),(0,r.jsxs)("span",{className:"font-semibold text-red-600",children:[b(g)," (",f(100-n),"%)"]})]}),(0,r.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-4 overflow-hidden",children:(0,r.jsx)("div",{className:"bg-gradient-to-r from-red-500 to-red-600 h-4 rounded-full transition-all duration-500 ease-out",style:{width:"".concat(g/i*100,"%")}})})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-3 sm:gap-4 mt-6",children:[(0,r.jsxs)("div",{className:"bg-green-50 rounded-lg p-3 sm:p-4 text-center border border-green-200",children:[(0,r.jsxs)("div",{className:"text-xl sm:text-2xl font-bold text-green-600",children:[f(n),"%"]}),(0,r.jsx)("div",{className:"text-xs sm:text-sm text-green-700 font-medium",children:"Success Rate"})]}),(0,r.jsxs)("div",{className:"bg-blue-50 rounded-lg p-3 sm:p-4 text-center border border-blue-200",children:[(0,r.jsx)("div",{className:"text-xl sm:text-2xl font-bold text-blue-600",children:b(i)}),(0,r.jsx)("div",{className:"text-xs sm:text-sm text-blue-700 font-medium",children:"Total Samples"})]})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("h4",{className:"text-lg font-medium text-gray-700 flex items-center gap-2",children:[(0,r.jsx)(u.Z,{className:"h-5 w-5 text-green-600"}),"Breakeven Analysis"]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[(0,r.jsxs)("span",{className:"font-medium",children:["Above Upper (+",f(d),"%)"]}),(0,r.jsx)("span",{className:"font-semibold text-green-600",children:b(a)})]}),(0,r.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-4 overflow-hidden",children:(0,r.jsx)("div",{className:"bg-gradient-to-r from-green-500 to-green-600 h-4 rounded-full transition-all duration-500 ease-out",style:{width:"".concat(a/i*100,"%")}})}),(0,r.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Stock moved up ",f(d),"% or more"]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[(0,r.jsxs)("span",{className:"font-medium",children:["Below Lower (",f(o),"%)"]}),(0,r.jsx)("span",{className:"font-semibold text-red-600",children:b(l)})]}),(0,r.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-4 overflow-hidden",children:(0,r.jsx)("div",{className:"bg-gradient-to-r from-red-500 to-red-600 h-4 rounded-full transition-all duration-500 ease-out",style:{width:"".concat(l/i*100,"%")}})}),(0,r.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Stock moved down ",f(Math.abs(o)),"% or more"]})]})]}),p&&(0,r.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-red-50 rounded-lg p-3 sm:p-4 border border-green-200 mt-6",children:[(0,r.jsx)("h5",{className:"text-sm font-medium text-gray-700 mb-3 text-center",children:"Breakeven Points"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("div",{className:"text-lg sm:text-xl font-bold text-green-600 flex items-center justify-center gap-1",children:[(0,r.jsx)(u.Z,{className:"h-3 w-3 sm:h-4 sm:w-4"}),"+",f(d),"%"]}),(0,r.jsx)("div",{className:"text-xs text-gray-600",children:"Upper Breakeven"}),(0,r.jsxs)("div",{className:"text-xs text-green-600 font-medium",children:["$",s.upper.toFixed(2)]})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("div",{className:"text-lg sm:text-xl font-bold text-red-600 flex items-center justify-center gap-1",children:[(0,r.jsx)(h.Z,{className:"h-3 w-3 sm:h-4 sm:w-4"}),f(o),"%"]}),(0,r.jsx)("div",{className:"text-xs text-gray-600",children:"Lower Breakeven"}),(0,r.jsxs)("div",{className:"text-xs text-red-600 font-medium",children:["$",s.lower.toFixed(2)]})]})]})]})]})]}),(0,r.jsx)("div",{className:"mt-6 sm:mt-8 p-3 sm:p-4 bg-gradient-to-r from-blue-50 to-green-50 rounded-lg border border-blue-200",children:(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[(0,r.jsx)("div",{className:"p-2 bg-blue-100 rounded-full flex-shrink-0",children:(0,r.jsx)(m.Z,{className:"h-4 w-4 sm:h-5 sm:w-5 text-blue-600"})}),(0,r.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,r.jsx)("h4",{className:"font-medium text-blue-800 mb-2 text-sm sm:text-base",children:"Strategy Insight"}),(0,r.jsx)("p",{className:"text-xs sm:text-sm text-blue-700 leading-relaxed",children:p?(0,r.jsxs)(r.Fragment,{children:["This straddle strategy requires the stock to move beyond ",(0,r.jsxs)("strong",{children:["\xb1",f(Math.max(Math.abs(d),Math.abs(o))),"%"]})," to be profitable. Based on historical data, this happens ",(0,r.jsxs)("strong",{children:[f(n),"%"]})," of the time, making it a ",n>60?"potentially profitable":n>40?"moderately risky":"high-risk"," strategy."]}):(0,r.jsxs)(r.Fragment,{children:["This straddle strategy analysis is based on the premium you entered. Based on historical data, similar premium levels would have been profitable ",(0,r.jsxs)("strong",{children:[f(n),"%"]})," of the time, making it a ",n>60?"potentially profitable":n>40?"moderately risky":"high-risk"," strategy."]})})]})]})})]})},p=s(70095),f=s(23050),b=s(52542);let j=e=>{let t=parseFloat(e);return isNaN(t)?"0.00":t.toFixed(2)};var y=e=>{let{strategyType:t,inputs:s,results:l,metrics:i,isMobile:n=!1,onInputChange:d}=e,[o,c]=(0,a.useState)(null),[u,h]=(0,a.useState)(!1);if((0,a.useEffect)(()=>{(null==s?void 0:s.currentPrice)&&c(parseFloat(s.currentPrice))},[s]),!s||!i)return null;let{aboveUpperBreakeven:g,belowLowerBreakeven:y,totalSamples:v,profitableRate:N=0}=l||{},{upperBreakeven:w,lowerBreakeven:k,maxProfit:P,profitRange:S,profitZone:F}=i||{},C="iron-condor"===t?{name:"Iron Condor",color:"purple",icon:p.Z,description:"Range-bound strategy with defined profit/loss zones"}:{name:"Straddle",color:"blue",icon:m.Z,description:"Directional strategy for breakout moves"},M=C.icon,{profitLoss:Z,status:E}=(()=>{if(!o||!s)return{profitLoss:0,status:"neutral"};let e=parseFloat(o),r=0,a="neutral";return"iron-condor"===t?e>w||e<k?(r=e>w?-Math.max(0,e-w):-Math.max(0,k-e),a="loss"):(r=P||0,a="profit"):e>w||e<k?(r=P||0,a="profit"):(r=-(P||0)*(1-Math.min(Math.abs(e-w),Math.abs(e-k))/parseFloat(s.currentPrice)),a="loss"),{profitLoss:r,status:a}})();return(0,r.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(x.Z,{className:"h-5 w-5 sm:h-6 sm:w-6 text-".concat(C.color,"-600")}),(0,r.jsxs)("h3",{className:"text-lg sm:text-xl font-semibold text-gray-800",children:["Interactive ",C.name," Analysis"]})]}),(0,r.jsx)(M,{className:"h-5 w-5 text-".concat(C.color,"-600")})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("h4",{className:"text-lg font-medium text-gray-700 flex items-center gap-2",children:[(0,r.jsx)(m.Z,{className:"h-5 w-5 text-green-600"}),"Strategy Performance"]}),(0,r.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 space-y-3",children:[(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("input",{type:"number",placeholder:"Stock Price",value:o||"",onChange:e=>c(e.target.value?parseFloat(e.target.value):null),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500"}),(0,r.jsx)("button",{onClick:()=>h(!u),className:"px-3 py-2 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:(0,r.jsx)(p.Z,{className:"h-4 w-4"})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,r.jsxs)("div",{className:"bg-green-50 rounded-lg p-2 text-center",children:[(0,r.jsxs)("div",{className:"text-sm font-bold ".concat("profit"===E?"text-green-600":"text-gray-400"),children:["+$",Z>0?Z.toFixed(2):"0.00"]}),(0,r.jsx)("div",{className:"text-xs text-green-700",children:"Optimal Profit"})]}),(0,r.jsxs)("div",{className:"bg-red-50 rounded-lg p-2 text-center",children:[(0,r.jsxs)("div",{className:"text-sm font-bold ".concat("loss"===E?"text-red-600":"text-gray-400"),children:["$",Z<0?Z.toFixed(2):"0.00"]}),(0,r.jsx)("div",{className:"text-xs text-red-700",children:"Current Risk"})]}),(0,r.jsxs)("div",{className:"bg-blue-50 rounded-lg p-2 text-center",children:[(0,r.jsx)("div",{className:"text-sm font-bold text-blue-600",children:"profit"===E?"PROFIT":"loss"===E?"LOSS":"BREAKEVEN"}),(0,r.jsx)("div",{className:"text-xs text-blue-700",children:"Status"})]})]})]}),(0,r.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-red-50 rounded-lg p-4 border border-green-200",children:[(0,r.jsx)("h5",{className:"font-semibold text-gray-800 mb-3",children:"Price Zones"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"text-sm flex justify-between",children:[(0,r.jsx)("span",{children:"Below Lower: Loss Zone"}),(0,r.jsxs)("span",{className:"font-semibold text-red-600",children:["< $",j(k)]})]}),(0,r.jsxs)("div",{className:"text-sm flex justify-between",children:[(0,r.jsx)("span",{children:"Profit Zone"}),(0,r.jsxs)("span",{className:"font-semibold text-green-600",children:["$",j(k)," - $",j(w)]})]}),(0,r.jsxs)("div",{className:"text-sm flex justify-between",children:[(0,r.jsx)("span",{children:"Above Upper: Loss Zone"}),(0,r.jsxs)("span",{className:"font-semibold text-red-600",children:["> $",j(w)]})]}),o&&(0,r.jsxs)("div",{className:"text-sm font-bold ".concat("profit"===E?"text-green-600":"loss"===E?"text-red-600":"text-blue-600"),children:["Current: $",j(o)," (",E.toUpperCase(),")"]})]})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h4",{className:"text-lg font-medium text-gray-700 flex items-center gap-2",children:l?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f.Z,{className:"h-5 w-5 text-green-600"}),"Historical Analysis Results"]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(b.Z,{className:"h-5 w-5 text-orange-600"}),"Strategy Details"]})}),u&&(0,r.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,r.jsx)("h5",{className:"font-semibold text-blue-800 mb-2",children:"Contract Structure"}),(()=>{if(u)return"iron-condor"===t?(0,r.jsx)("div",{className:"space-y-3",children:(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,r.jsxs)("div",{className:"bg-blue-50 p-3 rounded-lg",children:[(0,r.jsx)("div",{className:"font-semibold text-blue-700",children:"Call Spread"}),(0,r.jsxs)("div",{className:"text-blue-600",children:["Buy $",s.longCallStrike," Put @ $",s.longCallStrike]}),(0,r.jsxs)("div",{className:"text-blue-600",children:["Sell $",s.shortCallStrike," Call @ $",s.shortCallStrike]})]}),(0,r.jsxs)("div",{className:"bg-green-50 p-3 rounded-lg",children:[(0,r.jsx)("div",{className:"font-semibold text-green-700",children:"Put Spread"}),(0,r.jsxs)("div",{className:"text-green-600",children:["Sell $",s.shortPutStrike," Put @ $",s.shortPutStrike]}),(0,r.jsxs)("div",{className:"text-green-600",children:["Buy $",s.longPutStrike," Put @ $",s.longPutStrike]})]})]})}):(0,r.jsx)("div",{className:"space-y-3",children:(0,r.jsxs)("div",{className:"bg-blue-50 p-3 rounded-lg",children:[(0,r.jsx)("div",{className:"font-semibold text-blue-700",children:"Straddle Legs"}),(0,r.jsxs)("div",{className:"text-blue-600 text-sm",children:[(0,r.jsxs)("div",{children:["Buy Call: $",s.strikePrice," @ $",(s.totalPremium/2).toFixed(2)]}),(0,r.jsxs)("div",{children:["Buy Put: $",s.strikePrice," @ $",(s.totalPremium/2).toFixed(2)]})]})]})})})()]}),l&&l.totalSamples>0&&(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between items-center text-sm text-gray-600",children:[(0,r.jsx)("span",{className:"font-medium",children:"Profitable Moves"}),(0,r.jsxs)("span",{className:"font-semibold text-green-600",children:[l.profitableRate?l.profitableRate.toFixed(1):0,"%"]})]}),(0,r.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-4 overflow-hidden",children:(0,r.jsx)("div",{className:"bg-gradient-to-r from-green-500 to-green-600 h-4 rounded-full transition-all duration-500",style:{width:"".concat(l.profitableRate||0,"%")}})})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between items-center text-sm text-gray-600",children:[(0,r.jsx)("span",{className:"font-medium",children:"Loss Moves"}),(0,r.jsxs)("span",{className:"font-semibold text-red-600",children:[(100-(l.profitableRate||0)).toFixed(1),"%"]})]}),(0,r.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-4 overflow-hidden",children:(0,r.jsx)("div",{className:"bg-gradient-to-r from-red-500 to-red-600 h-4 rounded-full transition-all duration-500",style:{width:"".concat(100-(l.profitableRate||0),"%")}})})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,r.jsxs)("div",{className:"bg-green-50 rounded-lg p-3 text-center border border-green-200",children:[(0,r.jsxs)("div",{className:"text-lg font-bold text-green-600",children:[Math.abs(N)>=100?N.toFixed(0):Math.abs(N)>=10?N.toFixed(1):N.toFixed(2),"%"]}),(0,r.jsx)("div",{className:"text-xs text-green-700",children:"Success Rate"})]}),(0,r.jsxs)("div",{className:"bg-blue-50 rounded-lg p-3 text-center border border-blue-200",children:[(0,r.jsx)("div",{className:"text-lg font-bold text-blue-600",children:v||0}),(0,r.jsx)("div",{className:"text-xs text-blue-700",children:"Data Points"})]})]})]}),C.description&&(0,r.jsxs)("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-4",children:[(0,r.jsx)(M,{className:"h-4 w-4 text-".concat(C.color,"-600 mb-2 inline")}),(0,r.jsx)("p",{className:"text-sm text-gray-700 leading-relaxed",children:C.description})]})]})]})]})},v=s(42371),N=s(74598);s(41664);var w=s(84282),k=()=>{let[e,t]=(0,a.useState)({ticker:"",currentPrice:"",expirationDate:"",strikePrice:"",totalPremium:""}),[s,d]=(0,a.useState)(null),[o,c]=(0,a.useState)(!1),[x,m]=(0,a.useState)(""),[u,h]=(0,a.useState)(!1),p=async e=>{try{let t=await fetch("/api/stock-price?ticker=".concat(e.toUpperCase()));if(!t.ok)throw Error("Failed to fetch price");return(await t.json()).price}catch(e){return console.error("Error fetching price:",e),null}},f=async(e,t)=>{try{let s=await fetch("/api/straddle-options?ticker=".concat(e.toUpperCase(),"&expiration=").concat(t));if(!s.ok)throw Error("Failed to fetch straddle options");return await s.json()}catch(e){return console.error("Error fetching straddle options:",e),null}},b=async e=>{try{let t=await fetch("/api/available-expirations?ticker=".concat(e));if(t.ok){let e=await t.json();R(e.expirations||[])}else console.warn("Failed to fetch available expirations:",t.status)}catch(e){console.error("Error fetching available expirations:",e)}},j=async e=>{try{if(t(t=>({...t,ticker:e.toUpperCase()})),e.length>=1){let s=await p(e);if(s){let r=5*Math.round(s/5);t(e=>({...e,currentPrice:s.toFixed(2),strikePrice:r.toFixed(2)})),await b(e)}}}catch(e){console.error("Error in handleTickerChange:",e),m("Failed to fetch ticker data: "+e.message)}},k=e=>{if(!e)return"";let[t,s,r]=e.split("-").map(Number);return Math.floor(new Date(t,s-1,r).getTime()/1e3)},P=(e,t)=>{let s="https://finance.yahoo.com/quote/".concat(e,"/options");if(t){let e=k(t);return"".concat(s,"/?date=").concat(e,"&straddle=true")}return s},S=async s=>{if(t(e=>({...e,expirationDate:s})),s&&e.ticker){h(!0),m("");try{let a=await f(e.ticker,s);if(a&&a.totalPremium>0){t(e=>({...e,totalPremium:a.totalPremium.toFixed(2),strikePrice:a.strikePrice.toFixed(2),expirationDate:a.expiration}));let e=[];0===a.callPrice&&e.push("⚠️ Call option price not available - using estimated value"),0===a.putPrice&&e.push("⚠️ Put option price not available - using estimated value"),a.isEstimated&&e.push("\uD83D\uDCCA Premium values are estimated due to missing pricing data"),a.requestedExpiration&&a.expiration!==a.requestedExpiration&&e.push("\uD83D\uDCC5 Using closest available expiration date ".concat(a.expiration," (requested ").concat(a.requestedExpiration,")")),e.length>0&&m((0,r.jsx)("div",{className:"space-y-1",children:e.map((e,t)=>(0,r.jsx)("div",{className:"text-sm",children:e},t))})),a.executionDate&&console.log("Using execution date: ".concat(a.executionDate," for expiration: ").concat(a.expiration))}else a&&0===a.totalPremium?m((0,r.jsxs)("span",{children:["Options pricing data not found. Please"," ",(0,r.jsx)("a",{href:P(e.ticker,s),target:"_blank",rel:"noopener noreferrer",className:"text-green-600 hover:text-green-800 underline font-medium",children:"check Yahoo Finance options"})," ","to enter premium manually."]})):m((0,r.jsxs)("span",{children:["Options pricing data not found. Please try a different date or"," ",(0,r.jsx)("a",{href:P(e.ticker,s),target:"_blank",rel:"noopener noreferrer",className:"text-green-600 hover:text-green-800 underline font-medium",children:"check Yahoo Finance options"})," ","to enter premium manually."]}))}catch(t){m((0,r.jsxs)("span",{children:["Failed to fetch straddle options. Please"," ",(0,r.jsx)("a",{href:P(e.ticker,s),target:"_blank",rel:"noopener noreferrer",className:"text-green-600 hover:text-green-800 underline font-medium",children:"check Yahoo Finance options"})," ","to enter premium manually."]}))}finally{h(!1)}}};(0,a.useEffect)(()=>{(async()=>{{let e=new URLSearchParams(window.location.search).get("ticker");e&&(t(t=>({...t,ticker:e.toUpperCase()})),await j(e))}})().catch(e=>{console.error("Error initializing ticker:",e),m("Failed to initialize ticker from URL parameters")})},[]);let F=()=>{if(!e.expirationDate)return 0;if(s&&s.executionDate){let t=new Date(s.executionDate);return Math.floor((new Date(e.expirationDate)-t)/864e5)}let t=new Date;return Math.floor((new Date(e.expirationDate)-t)/864e5)},C=async()=>{if(!e.ticker||!e.strikePrice||!e.totalPremium){m("Please fill in all required fields");return}c(!0),m("");try{let t=await fetch("/api/straddle-analysis",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ticker:e.ticker,strikePrice:parseFloat(e.strikePrice),totalPremium:parseFloat(e.totalPremium),daysToExpiration:F()})});if(!t.ok)throw Error("Analysis failed");let s=await t.json();d(s)}catch(e){m("Failed to analyze historical data: "+e.message)}finally{c(!1)}},M=(()=>{if(!e.strikePrice||!e.totalPremium)return null;let t=parseFloat(e.strikePrice),s=parseFloat(e.totalPremium);return{upper:t+s,lower:t-s,upperPct:(t+s-t)/t*100,lowerPct:(t-s-t)/t*100}})(),Z=F(),[E,D]=(0,a.useState)(!1),[T,R]=(0,a.useState)([]);return(0,r.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,r.jsx)(v.Z,{}),(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,r.jsx)("div",{className:"mb-8",children:(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,r.jsx)("h2",{className:"text-3xl font-black text-gray-900 leading-tight tracking-tight",children:"ATM Straddle Profitability Calculator"}),(0,r.jsx)("button",{onClick:()=>D(!E),className:"p-2 text-gray-500 hover:text-green-600 transition-colors",title:"How it works",children:(0,r.jsx)(N.Z,{className:"h-6 w-6"})})]}),(0,r.jsx)("p",{className:"text-lg text-gray-600",children:"Analyze historical profitability of At-The-Money straddle strategies"}),E&&(0,r.jsxs)("div",{className:"mt-4 max-w-2xl bg-green-50 border border-green-200 rounded-lg p-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-green-800 mb-2",children:"How the Straddle Calculator Works:"}),(0,r.jsxs)("div",{className:"text-sm text-green-700 space-y-2",children:[(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"What is a Straddle?"})," A straddle is an options strategy where you buy both a call and put option at the same strike price and expiration date."]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Profit Potential:"})," You profit when the stock moves significantly in either direction (up or down) beyond your breakeven points."]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Breakeven Points:"})," Upper breakeven = Strike Price + Total Premium, Lower breakeven = Strike Price - Total Premium."]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Historical Analysis:"})," The calculator analyzes past price movements to show how often this strategy would have been profitable."]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Risk:"})," You lose money if the stock stays between the breakeven points (time decay and low volatility)."]})]})]})]})}),(0,r.jsx)("div",{className:"bg-gray-50 py-12 px-4",children:(0,r.jsx)("div",{className:"max-w-6xl mx-auto",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,r.jsx)("div",{className:"border border-gray-200 hover:shadow-lg transition-shadow duration-200 bg-white rounded-lg",children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-semibold mb-6 text-gray-800",children:"Strategy Parameters"}),(0,r.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Execution date is automatically set to the last trading day. You only need to select the expiration date."}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Stock Ticker *"}),(0,r.jsx)(i,{type:"text",placeholder:"e.g., AAPL",value:e.ticker,onChange:e=>j(e.target.value),className:"w-full"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Stock Price"}),(0,r.jsx)(i,{type:"number",step:"0.01",placeholder:"Current price",value:e.currentPrice,onChange:e=>t(t=>({...t,currentPrice:e.target.value})),className:"w-full"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Expiration Date *",u&&(0,r.jsx)("span",{className:"ml-2 text-xs text-green-600",children:"Fetching options..."})]}),(0,r.jsx)(i,{type:"date",value:e.expirationDate,onChange:e=>S(e.target.value),className:"w-full",disabled:u}),T.length>0&&(0,r.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Available expirations: ",T.slice(0,5).join(", "),T.length>5&&" and ".concat(T.length-5," more")]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Strike Price (ATM) *"}),(0,r.jsx)(i,{type:"number",step:"0.01",placeholder:"Strike price",value:e.strikePrice,onChange:e=>t(t=>({...t,strikePrice:e.target.value})),className:"w-full"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Total Premium (Call + Put) *"}),(0,r.jsx)(i,{type:"number",step:"0.01",placeholder:"Combined premium",value:e.totalPremium,onChange:e=>t(t=>({...t,totalPremium:e.target.value})),className:"w-full"})]}),(0,r.jsx)(l,{onClick:C,disabled:o,className:"w-full bg-green-600 hover:bg-green-700 text-white py-3",children:o?"Analyzing...":"Calculate Profitability"})]}),x&&(0,r.jsx)("div",{className:"mt-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:x})]})}),(0,r.jsx)("div",{className:"border border-gray-200 hover:shadow-lg transition-shadow duration-200 bg-white rounded-lg",children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-semibold mb-6 text-gray-800",children:"Analysis Results"}),M&&(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-700 mb-3",children:"Breakeven Points"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[(0,r.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:["$",M.upper.toFixed(2)]}),(0,r.jsxs)("div",{className:"text-sm text-green-700",children:["+",M.upperPct.toFixed(2),"%"]}),(0,r.jsx)("div",{className:"text-xs text-gray-600",children:"Upper Breakeven"})]}),(0,r.jsxs)("div",{className:"text-center p-3 bg-red-50 rounded-lg",children:[(0,r.jsxs)("div",{className:"text-2xl font-bold text-red-600",children:["$",M.lower.toFixed(2)]}),(0,r.jsxs)("div",{className:"text-sm text-red-700",children:[M.lowerPct.toFixed(2),"%"]}),(0,r.jsx)("div",{className:"text-xs text-gray-600",children:"Lower Breakeven"})]})]})]}),Z>0&&(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-700 mb-2",children:"Strategy Details"}),(0,r.jsx)("div",{className:"p-3 bg-gray-50 rounded-lg",children:(0,r.jsxs)("div",{className:"text-sm text-gray-600",children:["Days to Expiration: ",(0,r.jsxs)("span",{className:"font-semibold",children:[Z," days"]})]})})]}),s&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-700 mb-3",children:"Historical Analysis"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg",children:[(0,r.jsx)("span",{className:"text-sm text-gray-600",children:"Moves Above Upper Breakeven:"}),(0,r.jsxs)(n,{variant:"success",className:"bg-green-600",children:[s.aboveUpper," (",s.aboveUpperPct.toFixed(1),"%)"]})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center p-3 bg-red-50 rounded-lg",children:[(0,r.jsx)("span",{className:"text-sm text-gray-600",children:"Moves Below Lower Breakeven:"}),(0,r.jsxs)(n,{variant:"destructive",className:"bg-red-600",children:[s.belowLower," (",s.belowLowerPct.toFixed(1),"%)"]})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[(0,r.jsx)("span",{className:"text-sm text-gray-600",children:"Total Profitable Moves:"}),(0,r.jsxs)(n,{variant:"default",className:"bg-blue-600",children:[s.totalProfitable," (",s.profitableRate.toFixed(1),"%)"]})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[(0,r.jsx)("span",{className:"text-sm text-gray-600",children:"Total Data Points:"}),(0,r.jsx)("span",{className:"font-semibold",children:s.totalSamples})]})]}),(0,r.jsxs)("div",{className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[(0,r.jsx)("h4",{className:"font-medium text-yellow-800 mb-2",children:"Profitability Summary"}),(0,r.jsxs)("p",{className:"text-sm text-yellow-700",children:["Based on historical data, this straddle strategy would have been profitable",(0,r.jsxs)("span",{className:"font-semibold",children:[" ",s.profitableRate.toFixed(1),"% "]}),"of the time over ",s.totalSamples," historical periods."]})]})]}),!s&&!o&&(0,r.jsx)("div",{className:"text-center text-gray-500 py-8",children:(0,r.jsx)("p",{children:'Enter your strategy parameters and click "Calculate Profitability" to see the analysis.'})})]})}),(0,r.jsx)("div",{className:"lg:col-span-1",children:(0,r.jsx)("div",{className:"border border-gray-200 hover:shadow-lg transition-shadow duration-200 bg-white rounded-lg",children:(0,r.jsx)("div",{className:"p-6",children:s&&M&&(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)(y,{strategyType:"straddle",inputs:e,results:s,metrics:M,isMobile:window.innerWidth<640,onInputChange:(e,s)=>t(t=>({...t,[e]:s}))}),(0,r.jsx)(g,{results:s,breakevens:M})]})})})})]})})}),(0,r.jsx)(w.Z,{})]})]})};function P(){return(0,r.jsx)(k,{})}}},function(e){e.O(0,[648,688,204,888,774,179],function(){return e(e.s=13379)}),_N_E=e.O()}]);